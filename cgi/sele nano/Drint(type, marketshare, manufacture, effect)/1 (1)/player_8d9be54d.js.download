void function(){var e="20230921";var i="//fa.micstatic.com/probe/video?v=".concat(e,"&t=perf");var m=function e(t){var t="d=".concat(encodeURIComponent(JSON.stringify(t)));if(navigator.sendBeacon){navigator.sendBeacon(i,t)}else{(new Image).src="".concat(i,"&").concat(t)}};var y=function e(t){var i=new RegExp("(?:^|;\\s*)".concat(t,"=([\\w\\W]*?)(?:;|$)")).exec(document.cookie);return i?i[1]:null};var t=function e(i){var t=location.href;var a=y("pid");var n=(parseInt(Math.random()*1e8)+parseInt(Date.now().toString().substring(0,8))).toString(16).toUpperCase();var o=i.config.videoUrl;var r=i.config.fileID;var c=i.config.appID;var l={pid:a,pfid:n,href:t,videoUrl:o};if(r){l.fileID=r}if(c){l.appID=c}var s=[];var d=0;i.on("apiloadstart",function(e){d=Date.now();l.type=e.type;l.api=e.api;l.css=e.css});i.on("apiloaded",function(e){d=Date.now()-d;l.loadApi=d});var u=[];var f=-1;i.on("waiting",function(e){u.push(i.currentTime())});var p=false;i.on("play",function(e){if(!p&&i.api().playbackRate){p=true;var t=i.api().playbackRate();s.push({rate:t,time:0})}});i.on("ratechange",function(e){var t=i.api().playbackRate();s.push({rate:t,time:i.currentTime()})});i.on("loadstart",function(e){f=Date.now()});i.on("loadeddata",function(e){l.loadTime=Date.now()-f;if(i.api().duration){l.duration=i.api().duration()}else if(i.api().totalTime){try{l.duration=i.api().totalTime()}catch(e){}}if(e.video){l.width=e.video.videoWidth||-1;l.height=e.video.videoHeight||-1}});i.on("canplay",function(e){l.canplay=Date.now()-f});var h=false;var v=function e(){if(h){return}h=true;l.waittimes=u;if(s.length){l.rates=s}m(l)};i.on("ended",function(e){l.ended=1;if(i.api().duration){l.currentTime=i.api().duration()}else if(i.api().totalTime){try{l.currentTime=i.api().totalTime()}catch(e){}}v(l)});window.addEventListener("beforeunload",function(e){l.currentTime=i.currentTime();v(l)},false)};window.videoPerf=t}.call(this);var VideoPlayer=function(){var n=window;var i=function e(){var t=arguments[0];var i=[].slice.call(arguments,1);for(var a=0;a<i.length;a++){var n=i[a];for(var o in n){t[o]=n[o]}}return t};var d=function e(t){var i=null;if(t){if(typeof t==="string"){if(document.querySelector){i=document.querySelector(t)}else{i=document.getElementById(t.replace(/^#/,""))}}else{if(t.jquery&&t.length){i=t[0]}else if(t&&t.nodeType===1){i=t}}}return i};var u="<!DOCTYPE html>"+'<html lang="en">'+"<head>"+'\t<meta charset="UTF-8">'+'\t<meta name="viewport" content="width=device-width, initial-scale=1.0">'+'\t<meta http-equiv="X-UA-Compatible" content="ie=edge">'+"\t<title>Video Player</title>"+"\t<style>"+"\thtml,body{"+"\t\tpadding: 0;"+"\t\tmargin: 0;"+"\t\tborder: 0;"+"\t\twidth: 100%;"+"\t\theight: 100%;"+"\t\toverflow: hidden;"+"       background: #000;"+"\t}"+"\t#player{"+"\t\twidth: 100%;"+"\t\theight: 100%;"+"\t}"+"   .ykplayer .x-video-poster img{"+"       position: absolute;"+"       top: 50%;"+"       left: 50%;"+"       transform: translate(-50%, -50%);"+"       margin: auto;"+"       width: 100%!important;"+"       height: auto!important;"+"   }"+"   .azuremediaplayer .vjs-tech {"+"       object-fit: cover"+"   }"+"   .azuremediaplayer .vjs-player>div:nth-child(1){"+"       display: flex;"+"       justify-content: center;"+"       flex-direction: column;"+"       height: 100%;"+"       width: 100%;"+"   }"+"   .azuremediaplayer .vjs-player>div:nth-child(1) video{"+"       position: static;"+"       height: auto;"+"   }"+"   .amp-default-skin{"+"       min-width: 120px !important"+"   }"+"\t</style>"+"{{style}}"+"<script>{{domain}}<\/script>"+"<script>var params = {{params}};<\/script>"+"</head>"+"<body>"+'<div id="player"></div>'+'<script charset="utf-8" src="'+"https://www.micstatic.com/common/js/assets/player/playVideo_c9a94699.js"+'"><\/script>'+"</body>"+"</html>";var a={lang:"en",player:"auto",el:null,oriEL:null,videoUrl:"",autoplay:false,muted:false,controls:"default",token:"",inSwiper:false,blank:"",poster:undefined,subtitles:[],exConfig:null,style:"",callback:null,perf:true};var o=[];var r=function e(t){this.config=i({},a,t);observe(this);this.__init();if(this.config.perf){videoPerf(this)}};r.prototype={constructor:r,__init:function e(){this.id="mvideo_"+parseInt(Math.random()*1e6);this.__init_events();this.__createPlayer()},api:function e(){return this.ifr&&this.ifr.contentWindow&&this.ifr.contentWindow.videoPlayer},currentTime:function e(){var t=this.api();return t&&(t.currentTime&&t.currentTime()||t.getCurrentTime&&t.getCurrentTime())||0},play:function e(){var t=false;var i=this.api();if(i){try{if(i.play){i.play();t=true}else if(i.playVideo){i.playVideo();t=true}}catch(e){}}return t},pause:function e(){var t=false;var i=this.api();if(i){try{if(i.pause){i.pause();t=true}else if(i.pauseVideo){i.pauseVideo();t=true}}catch(e){}}return t},__init_events:function e(){var a=this;this.EVENT_SIGN="__VIDEO_EVENT_"+this.id+"_";this.__EVENT_NAMES__="apiloadstart,apiloaded,error,ready,canplay,play,playing,ended,loadstart,loadeddata,pause,seeked,playing,loadedmetadata,through,waiting,ratechange,resolutionswitching,resolutionswitched,fullscreenchange";this.__EVENT_NAMES__.replace(/\w+/g,function(i){n[a.EVENT_SIGN+i.toUpperCase()]=function(e){a.fire(i,e);var t={type:e.event,currentTime:e.currentTime,duration:e.duration,videoSourceType:e.type,videoUrl:e.params.videoUrl,errorCode:e.errorCode,el:a.config.oriEl||a.config.el,video:e.video};if(document.readyState==="complete"&&r.eventHandler){if(o.length>0){o.forEach(function(e){r.eventHandler&&r.eventHandler(e)});o.length=0}else{r.eventHandler&&r.eventHandler(t)}}else{o.push(t)}}})},__removeEvent:function e(){var t=this;this.off();this.__EVENT_NAMES__.replace(/\w+/g,function(e){n[t.EVENT_SIGN+e.toUpperCase()]=null})},checkType:function e(t){var i=this.config.videoUrl;var a=/^nodata$/i.test(i);var n=/youku\.com/i.test(i);var o=/(youtube\.com|youtu\.be)/i.test(i);var r=/(?:micmedia\.azureedge\.net|micmedia2\.streaming\.mediaservices\.windows\.net)/i.test(i);var c=/\.vod2\.myqcloud\.com/i.test(i);var l=/v\.made-in-china\.com/i.test(i);var s=this.config.videoUrl&&!a&&!n&&!o&&!r;this.type=n?"youku":r?"ms":o?"youtube":c?"tc":l?"tcn":s?"h5":"none";if(t){t.isNoData=a;t.isYouku=n;t.isYoutube=o;t.isMS=r;t.isTc=c;t.isTcn=l;t.isH5=s}},__createPlayer:function e(){var r=this;var c=document.createElement("iframe");c.id=this.id;c.player=this;var t=/youku\.com/i.test(this.config.videoUrl);if(this.config.blank&&t){c.src=this.config.blank+(document.domain===location.hostname?"":"?domain="+document.domain)}c.style.cssText="display:block; width:100%; height:100%;";c.frameBorder="0";c.allowFullscreen=true;c.allowTransparency=true;c.setAttribute("allowfullscreen",true);c.setAttribute("allowtransparency",true);var i=d(this.config.el);i.appendChild(c);this.ifr=c;var l={lang:this.config.lang||"en",player:this.config.player,videoUrl:this.config.videoUrl,autoplay:this.config.autoplay,muted:this.config.muted,controls:this.config.controls,poster:this.config.poster,token:this.config.token,sign:this.EVENT_SIGN,msControls:this.config.msControls,msMuted:this.config.msMuted,swiper:!!this.config.inSwiper,subtitles:this.config.subtitles||[],exConfig:this.config.exConfig,style:this.config.style||"",callback:this.config.callback||null};var a=function e(){r.timer=setInterval(function(){try{var e=c.contentWindow;var t=e.document;var i=e.location;clearInterval(r.timer);t.open();var a=u;var n=document.domain!==location.hostname?'document.domain = "'+document.domain+'"':"";a=a.replace(/{{domain}}/g,n);var o=l.style?'<style type="text/css">'.concat(l.style,"</style>"):"";a=a.replace(/{{style}}/,o);delete l.style;if(typeof l.callback==="function"){l.callback=l.callback.toString()}if(typeof l.callback!=="string"){delete l.callback}a=a.replace(/{{params}}/,JSON.stringify(l));t.write(a);t.close()}catch(e){}},19)};if(this.config.blank&&t){var n=function e(){c.removeEventListener("load",e);a()};c.addEventListener("load",n,false)}else{a()}if("ontouchend"in window&&this.config.inSwiper){var o=document.createElement("div");o.style.cssText="position:absolute; top:0; left:0; transform: translateY(-50px); width: 100%; height: 100%";if(!/^(relative|position|fixed)$/.test(getComputedStyle(i).position)){i.style.position="relative"}i.style.overflow="hidden";i.appendChild(o);var s=function e(t,i){var a=new TouchEvent(t,{touches:i.touches,targetTouches:i.targetTouches,changedTouches:i.changedTouches,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,altKey:i.altKey,metaKey:i.metaKey,bubbles:i.bubbles,cancelable:i.cancelable,view:i.view,detail:i.detail});a.workAroundTouches=i.touches;var n=c.contentWindow.document.querySelector("video");n&&n.dispatchEvent(a)};o.addEventListener("touchend",function(e){s("touchend",e);s("keyup",e)},false);o.addEventListener("click",function(e){s("click",e)},false)}},dispose:function e(){clearInterval(this.timer);delete this.ifr.player;this.__removeEvent();this.ifr.parentNode.removeChild(this.ifr)}};return r}.call(this);
//# sourceMappingURL=../../../../__sources__/common/js/assets/player/player_8d9be54d.js.map
