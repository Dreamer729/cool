function _typeof(t){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var TINGYUN=function(){function M(t,e){return Function.prototype.apply.apply(t,e)}function q(t,e){return function(){return t.apply(e,arguments)}}function B(t){return B="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)},B(t)}function h(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=_typeof(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(n!==undefined){var r=n.call(t,e||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_typeof(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e,n){var r,i=0;if(t)if(function(t){var e=!!t&&"length"in t&&t.length,n=B(t);return"function"!==n&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}(t))for(r=t.length;i<r&&!1!==e.call(t[i],t[i],i);i++);else for(i in t)if((n||Object.prototype.hasOwnProperty.call(t,i))&&!1===e.call(t[i],t[i],i))break;return t}var e=window.encodeURIComponent;function U(t){return e?e(t):t}function t(e){return function(t){return"Array"===e&&Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object "+e+"]"}}var d=t("String"),F=t("Array"),f=t("Object"),z=t("Number"),V=t("Headers"),Y=t("Request"),w=function t(e){return"function"==typeof e};function J(){this.events={}}J.prototype={on:function t(e,n){var r=this;return d(e)?(r.events[e]||(r.events[e]=[])).push(n):F(e)&&b(e,function(t){r.on(t,n)}),r},off:function t(e,n){var r=arguments.length,i=this;if(0===r)return i.events={},i;var a=i.events[e];if(!a)return i;if(1===r)return i.events[e]=null,i;for(var o=a.length;o--;)if(a[o]===n){a.splice(o,1);break}return i},emit:function t(e){var n=[].slice.call(arguments,1),r=this.events[e];return r&&b(r,function(t){return t.apply(this,n)}),this},unshift:function t(e,n){var r=this;return(r.events[e]||(r.events[e]=[])).unshift(n),r}};var K=[].slice;function g(n){return arguments.length<2||!n||b(K.call(arguments,1),function(t){b(t,function(t,e){n[e]=t})}),n}function G(t,e){for(var n=-1,r=0,i=null==t?0:t.length,a=[];++n<i;){var o=t[n];e(o,n,t)&&(a[r++]=o)}return a}var W=+new Date;function l(t,e,n){var r;if(null==t)return-1;var i=Object(t),a=i.length>>>0;if(0===a)return-1;var o=+n||0;if(Math.abs(o)===Infinity&&(o=0),o>=a)return-1;for(r=Math.max(o>=0?o:a-Math.abs(o),0);r<a;){if(r in i&&i[r]===e)return r;r++}return-1}var X=function t(){return!document.addEventListener};function Q(t){var e=!1;try{/\{\s+\[native code\]/.test(Function.prototype.toString.call(t))&&(e=!0)}catch(t){}return e}function $(t){return JSON.parse(t)}function Z(t){return JSON.stringify(t)}function tt(t){return!(!d(t)||null==t)&&("{"===t.charAt(0)&&"}"===t.charAt(t.length-1)||"["===t.charAt(0)&&"]"===t.charAt(t.length-1))}function et(t){return tt(t)?new Function("return "+t)():null}var nt,y,rt='"',it="ARRAY",at="OBJECT_KEY",ot="OBJECT_VALUE",ct="__TY_MARK_OBJECT_VALUE_UNDEFINED__";function st(t,e){switch(B(t)){case"object":if(!t)return e===ot?null:"null";if(t instanceof Array){var n=K.call(t);return b(n,function(t,e){n[e]=st(t,it)}),"["+n.join(",")+"]"}if(t instanceof Date)return t.getTime().toString();var i="";return b(t,function(t,e){if(!w(t)){var n=st(t,ot);if(n!==ct){var r=st(e,at);i+=r+":"+n+","}}}),i&&(i=i.substr(0,i.length-1)),"{"+i+"}";case"string":for(var r="",a=0;a<t.length;a++){var o=t.charAt(a);switch(o){case'"':r+='\\"';break;case"\\":r+="\\\\";break;case"\b":r+="\\b";break;case"\f":r+="\\f";break;case"\n":r+="\\n";break;case"\r":r+="\\r";break;case"\t":r+="\\t";break;default:r+=o}}return rt+r+rt;case"number":return isNaN(t)?null:t;case"boolean":return t;case"function":return st(t.toString());case"undefined":return e===ot?ct:e===it?"null":"undefined";default:return'"undefined"'}}var ut,a,ft=window.JSON;function dt(t,e){var n=null==t?0:t.length;if(!n)return-1;for(var r=n;r--;)if(t[r]===e)return r;return r}function lt(t){return setTimeout(t,0)}function ht(){}function E(){return+new Date}function pt(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}function vt(t,e){return setTimeout(t,e||0)}function mt(t){return t?d(t)?t.length:window.ArrayBuffer&&t instanceof ArrayBuffer?t.byteLength:window.Blob&&t instanceof Blob?t.size:t.length?t.length:0:0}function yt(t,e,n){return!!t&&(n=n||0,t.indexOf(e)==n)}ut=ft&&ft.parse,nt=w(ut)&&Q(ut)?$:et,y=function(){var t=ft&&ft.stringify;if(!w(t)||!Q(t))return!1;var e=!0;try{b([Boolean,Number,String,Object,Array],function(t){if(t.prototype.toJSON)return e=!1,!1})}catch(t){}return e}()?Z:st,a=window.addEventListener?function(t,e,n,r){return t.addEventListener(e,n,r)}:function(t,e,n){return t.attachEvent("on"+e,n)};var gt=String.prototype.trim?function(t){return null==t?"":t.trim()}:function(t){return null==t?"":t.toString().replace(/^\s+/,"").replace(/\s+$/,"")},T=function(){function n(t){return t<0?NaN:t<=30?0|Math.random()*(1<<t):t<=53?(0|Math.random()*(1<<30))+(0|Math.random()*(1<<t-30))*(1<<30):NaN}function r(t,e){for(var n=t.toString(16),r=e-n.length,i="0";r>0;r>>>=1,i+=i)1&r&&(n=i+n);return n}return function(t){var e="-";return t&&(e=""),r(n(32),8)+e+r(n(16),4)+e+r(16384|n(12),4)+e+r(32768|n(14),4)+e+r(n(48),12)}}(),bt={imageResources:[]},wt={};var p={context:null,uniqueId:0,actions:[],opt_custom_param:null,unAssignedEvents:[],cpActions:[],recordingCpActions:!1,cpParent:null,cpRemain:{ajax:0,iframe:0},tryEndCpActionsFailed:!1,pfSent:!1,ajaxUniqueId:0,scope:null,enableLCPObserver:!0,recordingPageLoadEvent:!1,recentFinishedAjaxContext:null,pageLoadEventEnd:!1,nbsJsBridgeData:{},did:null,uid:null,pageActionData:null,routeAid:null},Et="error",Tt="load",xt="unload",_t="beforeunload",St="pagehide",kt="readystatechange",Ct="complete",At="DOMContentLoaded",Ot="_ty_rum",Rt="TINGYUN",Nt="__ign",It="1",jt="2",Dt="3",Pt="4",Lt="5",Ht="reqBody",Mt="TINGYUN_COOKIE_VALUE",qt="TINGYUN_DATA",Bt="X-Tingyun",Ut="X-Tingyun-Data",Ft="TY_BASE64",zt="__TINGYUN",Vt="ty_",Yt=6e4,Jt="common",x="event",v="ajax",Kt="timer",Gt="iframe",Wt="pf",Xt="crossPage",Qt="jsError",$t="resource",Zt="batch",te="trace",ee="main",ne="quit",re="pending",ie="finish",ae="timeout",oe="startTime",ce="fetchStart",se="requestStart",ue="responseStart",fe="responseEnd",de="domContentLoadedEventStart",le="domContentLoadedEventEnd",he="domInteractive",pe="domComplete",ve="loadEventStart",me="loadEventEnd",ye="unloadEventStart",ge="unloadEventEnd",be="domainLookupStart",we="domainLookupEnd",Ee="redirectStart",Te="redirectEnd",xe="connectStart",_e="connectEnd",Se="secureConnectionStart",ke="transferSize",Ce="encodedBodySize",Ae="decodedBodySize",Oe="nextHopProtocol",Re="duration",Ne=5,Ie="__ty_crs_page_events",je="window_open",De="a_link",Pe="form_submit",Le="__ty_event_patch_tag",He="__ty_event_patch_disable",Me="__ty_event_patch_id",qe="click",Be="submit",Ue="spe",Fe="addEventListener",ze="onProperty",Ve="inline",Ye="IMG",Je="A",Ke="FORM",Ge="__ty_xhr_hooked",We="__ty_xhr_hooked_type",Xe=200,Qe="TY_USER_ID",$e="TY_SESSION_N_ID",Ze="TY_DEVICE_N_ID",tn=21e5,en=288e5,nn="|",rn="__TY_SPE_STORE",an=6e5,on="auto",cn="defined",sn="route",un=500,fn="__TY_ELEMENT_CB",dn="__TY_IMAGE_LOAD_HOOK",ln=60,hn="__tagFirstPaintTime",pn=500,vn=1e4,mn="hashchange",yn="popstate",gn="normal",bn="script",wn="current",En="crossPage",Tn="visibilitychange",xn="URL",_n="QH",Sn="QB",kn="RH",Cn="RB",An="reqHeaders",On="reqBody",Rn="resHeaders",Nn="resBody",In=200,jn="lifecycle",Dn="action",Pn="send",Ln="init",Hn="page",Mn="ajax",qn="error",Bn="userAction",Un="beforeSend",Fn="send",zn="paint",Vn="largest-contentful-paint",Yn="first-contentful-paint",Jn=500,Kn=1e4,Gn=100,Wn="__ty_resource_load_bind_id",Xn="xhr",Qn="fetch",$n="mPaaS_rpc",Zn="resource",tr="auto",er="immediateEvent",nr=1,rr=2,ir=3,ar="beacon",or="TINGYUN_STORAGE",cr="AGENT_CONFIG",sr=10,ur=3e4,fr="GET",dr="POST",lr="http://mgw/",hr=100,pr=2e3,vr=4e3,mr=4e3,yr=7e3,gr="userAction",br="userEvent",wr="setUser",Er="subscribeData",Tr="Server-Timing",xr="xmlhttprequest",_r="fetch",Sr="session",kr="history",Cr="hash",Ar="auto",Or="fid",Rr="cls",Nr="tti",Ir="tbt",jr=5e3,Dr=10,Pr=430080,Lr=1e3,Hr=200,Mr="default",qr="http",Br="info",Ur="console",Fr="dom",zr="fetch",Vr="xhr",Yr="history",Jr="navigation",Kr="error",Gr="report",Wr="resource",Xr="longtask",Qr="navigation",$r="first-input",Zr="performance",ti=Wr,ei=Qr,ni=5e3,ri=1e3,ii={error:990,abort:905,timeout:903},ai="id",o="appKey",oi="token",ci="key",si="env",ui="replay",fi="apply",di="init",li="tingyun",hi="w3c-trace-context",pi="sw8",vi={lifecycle:[Ln],action:[Hn,Mn,qn,Bn],send:[Un,Fn]},mi="default",yi={};function gi(t,e){return"".concat(t,"_").concat(e||mi)}function bi(t){if(t&&f(t)){var e=t.type,n=t.name,r=t.handler,i=t.options;if(!(null==vi[e]||n&&l(vi[e],n)<0||!w(r)||i&&!f(i)))if(n===Hn&&p.pageActionData)_i(t,{args:{actionData:p.pageActionData}});else{var a=gi(e,n);yi[a]||(yi[a]=[]),yi[a].push(t)}}}function wi(t,e){bi({type:jn,name:t,handler:e})}function Ei(t,e,n){bi({type:Dn,name:t,handler:e,options:n})}function Ti(t,e){bi({type:Pn,name:t,handler:e})}function xi(t){var e,n=t.type,r=t.name,i=t.args,a=t.scope,o=gi(n,r);if(yi[o])try{b(yi[o],function(t){if(!1===_i(t,{args:i,scope:a}))return e=!1,!1})}catch(t){}return e}function _i(t,e){var n,r=e.args,i=e.scope,a=r||{};i&&(a.scope=i);try{n=t.handler.call(i,a)}catch(t){}return n}function s(t){t=t||{},this._contexts=t.contexts||null,this._name=t.name,this._tags=null,this._metrics=null,this._params=null}function Si(){p.scope||(p.scope=new s({name:"ROOT"}))}function ki(){Si(),p.scope.setContext.apply(p.scope,arguments)}function Ci(t,e,n){if(t&&e){n||(n="scope");var r=e?e.getData():null;return r&&(t[n]=r),t}}function Ai(){return Si(),p.scope}s.prototype.setContext=function(t,e){var n=this;t&&f(t)?b(t,function(t,e){n._mergeContext(e,t)}):this._mergeContext(t,e)},s.prototype.setBreadcrumbs=function(t){if(t)if(this._breadcrumbs)try{this._breadcrumbs=this._breadcrumbs.concat(t)}catch(t){}else this._breadcrumbs=t},s.prototype.setTag=function(t,e){null!=t&&null!=e&&(this._tags||(this._tags={}),this._tags[t]=e)},s.prototype.setMetric=function(t,e,n){if(null!=t&&null!=e){this._metrics||(this._metrics={});var r={data:e};n&&(r.unit=n),this._metrics[t]=r}},s.prototype.setParams=function(t){this._params||(this._params={}),g(this._params,t)},s.prototype.setExtraContext=function(t){this.setContext("extra",t)},s.prototype.getContext=function(t){return null==t?this._contexts:null==this._contexts?null:this._contexts[t]},s.prototype.getData=function(){if(this._isEmptyScope())return null;var t={};return this._contexts&&(t.contexts=this._contexts),this._breadcrumbs&&(t.breadcrumbs=this._breadcrumbs),this._tags&&(t.tags=this._tags),this._metrics&&(t.metrics=this._metrics),this._params&&(t.params=this._params),t},s.prototype._isEmptyScope=function(){return null==this._contexts&&null==this._breadcrumbs&&null==this._tags&&null==this._metrics&&null==this._params},s.prototype._mergeContext=function(t,e){null!=t&&null!=e&&(this._contexts||(this._contexts={}),f(this._contexts[t])&&f(e)?this._contexts[t]=g(this._contexts[t]||{},e):this._contexts[t]=e)},s.prototype.toJSON=function(){return undefined};var Oi,Ri=window.Error,m=window.document,Ni=window.XMLHttpRequest,Ii=window.location,ji=window.navigator,_={},Di={};function Pi(){try{Oi||(Oi=window.navigator.userAgent.substring(0,256))}catch(t){}return Oi}var Li,Hi,Mi=!/(MSIE [0-8].\d+)/.test(Pi())&&document.addEventListener;function c(){return Mi}var qi=[],Bi=[];function Ui(){return qi}function Fi(){return Bi}"onpagehide"in window?(qi=[St],Bi=[Tt,St]):(qi=[xt,_t],Bi=[Tt,xt,_t]);function zi(){return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.nbsBrowserAgent&&window.webkit.messageHandlers.nbsBrowserAgent.postMessage}function Vi(){return"undefined"!=typeof nbsJsBridge&&nbsJsBridge.postMessage}function Yi(t){return d(t)||(t=y(t)),t}var Ji,Ki="display:none";function Gi(t,e){var n=t.url,r=t.data,i=t.callback,a=t.method,o=t.timeout,c=pt(i),s=new XDomainRequest;s[Nt]=!0,a=a||dr,s.open(a,n),s.onload=function(){c(s.responseText),e(!0)},s.onerror=function(t){c(t),e(!1)},o&&(s.timeout=o),lt(function(){a===dr?s.send(Yi(r)):s.send()})}function Wi(e,n,r){var i=document.createElement(e);try{for(var t in n)i[t]=n[t]}catch(t){var a="<"+e;for(var o in n)a+=" "+o+'="'+n[o]+'"';a+=">",r||(a+="</"+e+">"),i=document.createElement(a)}return i}function Xi(t,e){var n=t.url,r=t.data,i=t.callback,a=Wi("div",{style:Ki}),o=Wi("iframe",{name:"ty_form",width:0,height:0,style:Ki}),c=Wi("form",{style:Ki,action:n,enctype:"application/x-www-form-urlencoded",method:"post",target:"ty_form"}),s=Wi("input",{name:"data",type:"hidden"},!0);s.value=Yi(r),c.appendChild(s),a.appendChild(o),a.appendChild(c),document.body.appendChild(a),c.submit();var u=pt(function(t){i&&i(),document.body.removeChild(a),e(t)});o.onreadystatechange=function(){o.readyState!==Ct&&4!==o.readyState||u(!0)},o.onload=function(){u(!0)},o.onerror=function(){u(!1)}}function Qi(e,n){var t=e.url,r=e.data,i=e.header,a=e.callback,o=e.method,c=e.timeout,s=pt(a),u=new Ni;try{u[Nt]=!0,o=o||dr;try{u.open(o,t,!0)}catch(t){return Xi(e,n)}for(var f in u.overrideMimeType&&u.overrideMimeType("text/html"),c&&(u.timeout=c),u.onreadystatechange=function(){if(4==u.readyState){s(u.responseText);var t=u.status;n(200===t||t>=400&&t<500)}},u.onerror=function(){s(),n(!1)},i)u.setRequestHeader(f,i[f]);o===dr?u.send(Yi(r)):u.send()}catch(t){n(!1)}}function $i(t,e){var n=t.url,r=t.data,i=t.callback;try{var a=ji.sendBeacon(n,Yi(r));i&&i(),e(a)}catch(t){e(!1)}}function Zi(t,e){var n={url:t,header:{"content-type":"text/plain;charset=UTF-8"},body:Yi(e)};return Yi({type:0,params:{ri:n}})}function ta(t,e){var n=t.url,r=t.data,i=t.callback;try{window.webkit.messageHandlers.nbsBrowserAgent.postMessage(Zi(n,r))}catch(t){}i&&i(),e(!0)}function ea(t,e){var n=t.url,r=t.data,i=t.callback;try{nbsJsBridge.postMessage(Zi(n,r))}catch(t){}i&&i(),e(!0)}function na(){var t=this;this.size=hr,this.queue=[],this.running=!1,this.post=null,this.callbackPost=null,this.canToggleToSendBeacon=!1,this.initSendingMethod(),a(window,St,function(){t.canToggleToSendBeacon&&(t.post=$i,Di.initiator=ar)})}function ra(t){Ji&&Ji.add(t)}na.prototype.add=function(t){this.queue.length>=this.size||!t||(null==t.retry&&(t.retry=!0),this.queue.push(t),this.running||(this.running=!0,this.run()))},na.prototype.run=function(){var e=this,n=this.queue[0];this.handler(n,function(t){t||!n.retry?(e.queue.shift(),e.queue.length>0?e.run():e.running=!1):e.running=!1})},na.prototype.handler=function(t,e){var n=this.post;t.needPostCallback&&(n=this.callbackPost),n(t,pt(function(t){e(t)}))},na.prototype.initSendingMethod=function(){var t,e,n,r,i,a=!1;ji.sendBeacon&&(a=!0),e=Qi,zi()?(t=ta,a=!1,Di.initiator="messageHandler"):Vi()?(t=ea,a=!1,Di.initiator="jsBridge"):window.XDomainRequest?(t=e=Gi,Di.initiator="xdr"):(n=window.navigator.standalone,r=Pi().toLowerCase(),i=/safari/.test(r),/iphone|ipod|ipad/.test(r)&&!n&&!i||_[o]&&!zi()&&!Vi()?(t=Qi,a=!1,Di.initiator="xhr"):Li?(t=Xi,Di.initiator="form"):(t=Qi,Di.initiator="xhr")),t||(t=function t(e,n){n(!0)},a=!1),this.canToggleToSendBeacon=a,this.post=t,this.callbackPost=e};var ia="xhrs",aa="errs",oa="resErrs",ca="vc",sa="tti";function ua(t,e){t.cache[e]=[]}function fa(){this.cache={},this.snapshot={},ua(this,ia),ua(this,aa),ua(this,oa),ua(this,ca),this.addCache=function(t,e){if(this.cache[t]&&e)try{var n=e();n&&this.cache[t].push(n)}catch(t){}},this.getCache=function(t){return this.cache[t]},this.getCacheSnapshot=function(t,e){if(!e)return this.getCache(t);var n=this.snapshot[t];n||(n=this.snapshot[t]={});var r=n[e];return r||(r=n[e]=this.cache[t].slice()),r},this.clearCache=function(t){var e=this;b(t,function(t){e.cache[t]&&(e.cache[t]=null),e.snapshot[t]&&(e.snapshot[t]=null)})},J.call(this)}function da(t){var e=t.url,n=t.body,r=t.type,i=t.callback;i=i||ht;var a,o={url:e,body:n,type:r};try{a=xi({type:Pn,name:Un,args:o})}catch(t){}!1!==a&&ra({url:o.url,data:o.body,callback:function t(){try{xi({type:Pn,name:Fn,args:o}),i()}catch(t){}},retry:t.retry})}g(fa.prototype,J.prototype);var la,S=new fa;function k(t){try{return(e=t)&&d(e)?nt(e):e}catch(t){}var e;return null}function ha(t,e,n){if(null==t[e]||F(t[e]))F(t[e])?t[e].push(n):t[e]=n;else{var r=t[e];t[e]=[r],t[e].push(n)}}function pa(t){return la.call(t)}S.on("send",da),la=String.prototype.trim?String.prototype.trim:function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};var va="http://",ma="https://",ya="file://";function ga(t){if(!t||!d(t))return"";var e,n=t.indexOf("?");return n>=0&&(e=t.substring(n+1)),e}function ba(t){var e=ga(t);return{queryObj:wa(e),queryString:e}}function wa(t){var a={};return t&&b(t.split("&"),function(t){var e=t.split("="),n=Ea(e[0]),r=Ea(e[1]);if(d(r)&&window.isNaN(r)){var i=k(r);null!=i&&(r=i)}n&&null!=r&&ha(a,n,r)}),a}function Ea(t){try{return decodeURIComponent(t)}catch(t){}return null}function Ta(t){var r=[];return b(t,function(t,e){var n=U(e)+"="+U(t);r.push(n)}),r.join("&")}function xa(t,e){var n=Ta(e);return t+=(t.indexOf("?")>0?"&":"?")+n}function _a(){return window.location.href}function Sa(t){var e=dt(t,"/");return e>-1&&(t=t.substring(0,e)),t}var ka,Ca,Aa,Oa=/(msie|trident)/i.test(Pi()),n=document.createElement("a");function Ra(t){var e=t;return Oa&&(n.setAttribute("href",e),e=n.href),n.setAttribute("href",e),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}ka=function t(e){try{return window.localStorage.getItem(e)}catch(t){}},Ca=function t(e,n){try{window.localStorage.setItem(e,n)}catch(t){}return n},Aa=function t(e){try{window.localStorage.removeItem(e)}catch(t){}};var Na=null;function Ia(t,e){if(null!=Na&&w(Na)){var n={type:1,params:{event_name:t}};e&&(n.params.data=e);try{Na(y(n))}catch(t){}}}var ja=70;function Da(){return p.did}function Pa(t){null!=t&&(p.did=t,Ca(Ze,t))}function La(){var t=p.uid;return t||((t=ka(Qe))?(t=t.substring(0,ja),p.uid=t,t):null)}function Ha(t,e){e=e||{},null!=t&&(t=t.substring(0,ja),p.uid=t,e.noStore||Ca(Qe,t),e.noDispatch||Ia(wr,{id:p.uid}))}function Ma(){var t=window.TINGYUN_RELEASE&&window.TINGYUN_RELEASE.id;return t||(t=_.releaseId),t}var qa,Ba="http:",Ua="https:",u={ref:document.URL,referrer:document.referrer,v:"3.7.0-jiaodian.1",av:"3.7.0-jiaodian.1",ua:(navigator||{}).userAgent};function Fa(){return qa}function za(t){var e=g({},u,function(){var t={did:Da(),url:_a()},e=La();e&&(t.uid=e);var n=Ma();return n&&(t.rid=n),t}(),t);return e[ci]||e[o]||!e[oi]||(e[ci]=e[oi]),e}function Va(t){return{beacon:Fa(),query:t=za(t)}}function Ya(){u.ref=document.URL,function(){try{return window.self!==window.top}catch(t){return!1}}()&&(u.ifr=1),b([ai,ci,o,oi,si],function(t){try{_[t]?u[t]=_[t]:delete u[t]}catch(t){}})}var Ja,Ka,Ga,r,Wa=function(){try{var t=T();return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(t){return!1}}(),C={};function Xa(t,e,n){if(C.localStorage&&t&&e){var r=k(ka(or));r||(r={}),e&&n?(r[t]||(r[t]={}),r[t][e]=n):r[t]=e,Ca(or,y(r))}}function Qa(t,e){if(C.localStorage&&t&&e){var n=k(ka(or));if(n&&n[t])return n[t][e]}}C.localStorage=Wa,C.getEntriesByName=window.performance&&w(window.performance.getEntriesByName),Ga=m.createElement("div"),(r=m.createElement("div")).style&&(r.style.cssText="float:left;opacity:.5",C.opacity="0.5"===r.style.opacity,C.cssFloat=!!r.style.cssFloat,r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",C.clearCloneStyle="content-box"===r.style.backgroundClip,(Ga=m.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",r.innerHTML="",Ga.appendChild(r),C.boxSizing=""===r.style.boxSizing||""===r.style.MozBoxSizing||""===r.style.WebkitBoxSizing,C.reliableHiddenOffsets=function(){return null==Ja&&((n=m.documentElement).appendChild(Ga),r.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",Ja=!1,window.getComputedStyle&&(e=window.getComputedStyle(r),Ja="1%"!==(e||{}).top,(e||{}).marginLeft,(e||{width:"4px"}).width,r.style.marginRight="50%",(e||{marginRight:"4px"}).marginRight,(t=r.appendChild(m.createElement("div"))).style.cssText=r.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",r.style.width="1px",parseFloat((window.getComputedStyle(t)||{}).marginRight),r.removeChild(t)),r.style.display="none",(Ka=0===r.getClientRects().length)&&(r.style.display="",r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(t=r.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(Ka=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",Ka=0===t[0].offsetHeight)),n.removeChild(Ga)),Ka;var t,e,n});var $a=65536,Za=6048e5;function to(t,e){var n=mt(y(e));if(!(n>$a)){var r={},i=function(){if(C.localStorage)return ka(or)}(),a=k(i);if(a&&a[cr])if(mt(i)+n>$a){var o=[];b(a[cr],function(t,e){if(!t||!e)return!0;t.lastUpdate&&E()-t.lastUpdate<Za&&o.push({time:t.lastUpdate,key:e,value:t})});try{o.sort(function(t,e){return e.time-t.time})}catch(t){}var c=n;b(o,function(t){var e=mt(y(t.value));if(c+e>$a)return!1;r[t.key]=t.value,c+=e})}else b(a[cr],function(t,e){if(!t||!e)return!0;t.lastUpdate&&E()-t.lastUpdate<Za&&(r[e]=t)});r[t]=e,Xa(cr,r)}}var eo="TOKEN_",no="APPKEY_",ro="CK",io={};function ao(a,t){if(a&&!oo(a)&&function(t){return!(!_.configLoad||!_.useRemoteConfig||!C.localStorage||t&&t.config&&!(E()-(t.lastUpdate||0)>6e4*_.configLoadInterval))}(t)&&!io[a]){io[a]=!0;var e={v:"3.7.0-jiaodian.1",_r:E()};_[oi]&&(e[oi]=_[oi]),_[o]&&(e[o]=_[o]),ra({url:"".concat(Fa(),"/web-config?").concat(Ta(e)),method:fr,timeout:ur,needPostCallback:!0,callback:function t(e){var n=k(e);if(n){var r=n.code,i=n.data;200===r&&f(i)&&to(a,{lastUpdate:E(),config:i})}},retry:!1})}}function oo(t){return t===ro}function co(){return window[Rt]&&window[Rt].inited}function so(t,e){return t==="[object "+e+"]"}function uo(t){return t&&t.length>0}var fo=[An,On,Rn,Nn];function lo(t){return!!t}function ho(t,e){var r=[];return e&&b(t,function(n){n&&n.url&&(b(fo,function(t){var e=!1;F(n[t])&&(n[t]=G(n[t],function(t){return t&&d(t)}),e=uo(n[t])),e?t!==An&&t!==Rn||function(n,r){n[r]&&b(n[r],function(t,e){t&&(n[r][e]=t.toLowerCase())})}(n,t):delete n[t]}),r.push(n))}),r}function po(t){return t}function vo(t,e){if(z(t))return t=+t,e?null!=e.min&&t<e.min?e.min:null!=e.max&&t>e.max?e.max:t:t}function mo(t){return vo(t,{min:0})}var yo={},A={},go=["domain",oi,ci,ai,o,si,"release","plugins"],bo=["common","page","ajax","jsError","operation","requestTracing","resource","configReload",ui,"webVitals","enc","breadcrumbs"],wo=h({},ui,{enabled:[po,!1],sampleRate:[vo,-1,{min:-1,max:1}],uploadInterval:[mo,10],uploadEveryEvents:[mo,100],options:[po],privacyMode:[po],blockClass:[po],maskTextClass:[po],ignoreClass:[po]});function i(t){return _o(t,!0)}function Eo(t){return _o(t,!1)}function To(t,e){return null!=t&&t>0?t:e}function xo(t,e,n){var r;try{r=vo(t,n)}catch(t){}return null==r&&(r=e),r}function _o(t,e){return null!=t?1==t:e}function O(t,e){return null!=t?t:e}function So(){var t,e,n,r;g(_,{beacon:O(A.domain),env:O(A.env),releaseId:O(A.release),id:O(A.id),key:O(A.key),appKey:O(A.appKey),token:O(A.token),console_debug:Eo(A.common.debug),sessionMode:O(A.common.sessionMode,tr),sendProtocol:O(A.common.sendProtocol),protocolDomainConfig:O(A.common.protocolDomainConfig),optCustomParamRules:(n=O(A.common.paramCollection,[{type:"1",key:"abt"},{type:"1",key:"abp"}]),r={},b(n,function(t){t&&t.key&&d(t.key)&&l(r[t.type]||[],t.key)<0&&(r[t.type]=r[t.type]||[]).push(t.key)}),r),sendInterval:O(A.common.sendInterval,jr),sendMaxLen:O(A.common.sendMaxLen,Dr),sendMaxSize:O(A.common.sendMaxSize,Pr),useRemoteConfig:i(A.common.useRemoteConfig),routerEnable:i(A.page.routerEnabled),routerMode:O(A.page.routerMode,Ar),router_event_delay:To(A.page.routerOperationDelay,pn),collect_noajax_hashroute:Eo(A.page.uploadNoAjaxHashRouter),fp_threshold:O(A.page.fpThreshold,pr),fs_threshold:O(A.page.fsThreshold,vr),dr_threshold:O(A.page.drThreshold,mr),le_threshold:O(A.page.leThreshold,yr),pageLoadDelay:To(A.page.pageLoadDelay,Jn),lcpAsFs:i(A.page.lcpAsFs),monitor_dom_mutation:i(A.page.mutationEnabled),fs_resources:O(A.page.fsResources),hookAjax:i(A.ajax.enabled),hookXhr:i(A.ajax.xhrEnabled),hookFetch:i(A.ajax.fetchEnabled),hookMPaas:i(A.ajax.mPaaSEnabled),hook_xhr_setrequestheader:i(A.ajax.hookXhrSetRequestHeader),ajaxBlacklist:O(A.ajax.ignoreUrls),ajRecordAll:O(A.ajax.recordAll),ajRecordEnabled:Eo(A.ajax.recordEnabled),ajRecords:O(A.ajax.recordConfig),ajRecordBlockEnabled:Eo(A.ajax.recordBlockEnabled),ajBlockRecords:O(A.ajax.recordBlockConfig),ajBodyMaxSize:1024*xo(A.ajax.bodyMaxSize,10,{min:1,max:1024}),jsErrorEnabled:i(A.jsError.enabled),errorEnabled:i(A.jsError.errorEnabled),unhandledrejectionEnabled:i(A.jsError.unhandledrejectionEnabled),uploadEmptyFileErrors:Eo(A.jsError.uploadEmptyFileErrors),catchAsyncCallback:Eo(A.jsError.catchAsyncCallback),hook_auto_event:i(A.operation.enabled),hook_inline_event:i(A.operation.inlineEventEnabled),hookOnProperty:i(A.operation.onPropertyEnabled),hookEventListener:i(A.operation.eventListenerEnabled),monitorRage:i(A.operation.rageClickEnabled),inline_event_associate_threshold:To(A.operation.inlineEventThreshold,Xe),hook_cross_page:i(A.operation.crossPageEnabled),eventResources:O(A.operation.itemUrls),eventResourcesIgnore:O(A.operation.ignoreItemUrls),eventTimeout:O(A.operation.timeout,Yt),resourceAssociateThreshold:To(A.operation.resourceAssociationThreshold,Gn),resourceWaitTime:To(A.operation.resourceAssociationWaitTime,Kn),x_server_switch:i(A.requestTracing.enabled),serverTiming:Eo(A.requestTracing.serverTimingEnabled),corsDomains:O(A.requestTracing.corsDomains),apmHeaders:O(A.requestTracing.apmHeaders),autoAddApmHeader:Eo(A.requestTracing.autoAddApmHeader),propagators:(t=O(A.requestTracing.propagators,[li]),e={},b(t,function(t){e[t]=!0}),e),monitorResources:O(A.resource.keyUrls),hook_iframe:i(A.resource.iframeEnabled),configLoad:i(A.configReload.enabled),configLoadInterval:To(A.configReload.expire,sr),webVitalsEnabled:i(A.webVitals.enabled),webVitalsFIDEnabled:i(A.webVitals.fidEnabled),webVitalsCLSEnabled:i(A.webVitals.clsEnabled),webVitalsTTIEnabled:i(A.webVitals.ttiEnabled),webVitalsTBTEnabled:i(A.webVitals.tbtEnabled),webVitalsTTIThreshold:O(A.webVitals.ttiThreshold,ni),webVitalsTTIMutationCheckRate:O(A.webVitals.ttiMutationCheckRate,ri),encEnabled:Eo(A.enc.enabled),encMode:O(A.enc.mode),encPubKey:O(A.enc.pubKey),encReplayEnabled:Eo(A.enc.replayEnabled),bcEnabled:i(A.breadcrumbs.enabled),bcConsoleEnabled:i(A.breadcrumbs.consoleEnabled),bcDomEnabled:i(A.breadcrumbs.domEnabled),bcFetchEnabled:i(A.breadcrumbs.fetchEnabled),bcXhrEnabled:i(A.breadcrumbs.xhrEnabled),bcHistoryEnabled:i(A.breadcrumbs.historyEnabled),bcNavigationEnabled:i(A.breadcrumbs.navigationEnabled),bcMaxCacheSize:To(A.breadcrumbs.maxCacheSize,Hr),bcParseConsoleParam:Eo(A.breadcrumbs.parseConsoleParam)}),b(wo,function(t,e){var a=A[e]||{},o=_[e]={};b(t,function(t,e){var n=t[0],r=t[1],i=t[2];try{o[e]=n.call(null,a[e],i)}catch(t){}null==o[e]&&null!=r&&(o[e]=r)})})}function ko(){b(_.corsDomains,function(t){return"*"!==t||(_.apmEnableAllCorsDomains=!0,!1)});var t,e,n,r,i,a=function(){var t,e;try{t=window.location.protocol}catch(t){}var n=_.protocolDomainConfig;if(n&&(e=t===Ua?n.https:t===Ba?n.http:n.other||n.https),!e){var r=_.sendProtocol;r&&(t=r),t!==Ua&&t!==Ba&&(t=Ua),_.beacon&&(e=t+"//"+_.beacon)}return e&&(qa=e),e}();Ya();try{t=_.networkRecord={},e=!1,n=!1,r={},(i=_.ajRecordAll)&&(r[xn]=lo(i.urlParams),r[_n]=lo(i[An]),r[Sn]=lo(i[On]),r[kn]=lo(i[Rn]),r[Cn]=lo(i[Nn]),e=!(!r[xn]||r[_n]||r[Sn]||r[kn]||r[Cn]),n=!!(r[xn]||r[_n]||r[Sn]||r[kn]||r[Cn])),t.config={enabled:n,urlOnly:e,pos:r},n&&!e&&(t.white=ho(_.ajRecords,_.ajRecordEnabled),t.black=ho(_.ajBlockRecords,_.ajRecordBlockEnabled))}catch(t){}return a}function Co(){return _}function Ao(t,e){}function Oo(t){var e=function(t){if(co()){var e=!A[o]&&t[o];return A[o]&&!t[o]&&b([ai,ci,o,oi],function(t){try{delete A[t]}catch(t){}}),e}}(t);if(e)return{valid:!1};var n=function(t){if(t)return t[o]?no+t[o]:t[oi]?eo+t[oi]:ro}(t),r={};t&&t.common&&!1===t.common.useRemoteConfig||oo(n)||(r=Qa(cr,n)||{}),function(n,r,t){n||(n={}),r||(r={});var i=yo[t]=yo[t]||{};b(go,function(t){var e=r[t]||n[t];e&&(i[t]=e)}),b(bo,function(t){i[t]=g(i[t]||{},n[t],r[t])}),A=i}(t,r.config,n),So();var i,a=ko();return{config:A,configKey:n,storedConfig:r,valid:(i=a,(_[oi]||_[o]||_[ci])&&i)}}var Ro,No={};function Io(t,e){t&&w(e)&&(No[t]||(No[t]=[]),No[t].push(e))}function jo(t,e){t&&No[t]&&0!==No[t].length&&b(No[t],function(t){try{t(e)}catch(t){}})}function Do(){return Ro}function Po(t){Ro=t[0],t[0]&&(u.sid=t[0]),t[1]&&(u.__s=+t[1])}function Lo(){return _.sessionMode==tr&&C.localStorage}var Ho=!0;function Mo(t){t&&3===t.length&&(Ca($e,t.join(nn)),Po(t))}function qo(t){var e=Do(),n=E();t||(t=T());var r=[t,n,n];Mo(r);var i=Do();return jo(Sr,{prev:e,current:i,init:Ho}),null!=p.nbsJsBridgeData.sessionId&&(p.nbsJsBridgeData.sessionId=i),r}function Bo(){var t=function(){var t=ka($e);if(t){var e=t.split(nn);return e&&(e[1]=+e[1],e[2]=+e[2]),e}return null}(),e=!0,n=p.nbsJsBridgeData.sessionId;return(e=!(!t||3!==t.length||!t[0]||isNaN(t[1])||isNaN(t[2]))&&(null!=n?n===t[0]:E()-t[2]<=tn&&E()-t[1]<=en))||qo(n),{session:t,valid:e}}var Uo,Fo=new J,zo=(h(Uo={},Jt,"c"),h(Uo,x,"e"),h(Uo,v,"a"),h(Uo,Gt,"i"),h(Uo,Wt,"p"),h(Uo,Qt,"j"),h(Uo,er,"event"),h(Uo,Zt,"b"),Uo),Vo="page",Yo="size",Jo="len",Ko="timer",Go=St,Wo=["ps","ss","rs"],R={size:0,q:[],options:null};function Xo(t,e,r){var n={msg:t,size:e,options:r};r.crossPage?R.q.unshift(n):R.q.push(n),R.size+=e,R.options?b(r,function(t,e){if(null==R.options[e]||"query"!==e)R.options[e]=t;else{var n=R.options.query;b(r.query,function(t,e){l(Wo,e)>-1?null==n[e]?n[e]=t:n[e]+=t:n[e]=t})}}):R.options=r}function Qo(t){var e=Ci({type:Jt,_debug:g(t||{},Di)},Ai());return p.opt_custom_param&&(e.optCustomParam=p.opt_custom_param),e}function $o(t,e){if(t&&t.type){(e=e||{}).query=e.query||{};var n=1===e.query.ps;try{e.cb&&(e.cb.call(null,t),delete e.cb)}catch(t){}var r=Zo(t)+y(t),i=mt(r);return R.size+i>=_.sendMaxSize?(tc({tr:Yo}),void Xo(r,i,e)):R.q.length+1>=_.sendMaxLen?(Xo(r,i,e),void tc({tr:Jo})):n?(Xo(r,i,e),void tc({tr:Vo})):void Xo(r,i,e)}}function Zo(t){var e=zo[t.type];return e||(e=t.type),e}function tc(t){if(0!==R.q.length){var e,n;Lo()&&(e=Bo(),n=e.session,e.valid&&(n[2]=E(),Mo(n)));var r=R.q,i=R.options,a=i.requestInfo;a||(a=Va()),g(a.query,i.query||{},{__r:E()}),a.path="/action";var o=i.commonActionInfoMessage?i.commonActionInfoMessage:Qo(t),c=Zo(o)+y(o),s=mt(c),u=r,f=!1;if(R.size+s>=_.sendMaxSize){for(var d=s,l=[];r.length>0;){var h=r[0];if(!h)break;var p=d+h.size;if(!(p<_.sendMaxSize))break;l.push(r.shift()),d=p}l.length>0&&(u=l,f=!0)}a.data=[c],b(u,function(t){t.msg&&a.data.push(t.msg)});var v=function(t){var e=t.beacon,n=t.path,r=t.query;return xa("".concat(e).concat(n),r)}(a),m=a.data.join("\n");S.emit("send",{url:v,body:m,type:"action"}),R.q=[],R.size=0,R.options=null,f&&b(r,function(t){Xo(t.msg,t.size,t.options)})}}var ec,nc=[v,Kt,Gt,$t];function rc(t,n){b(t,function(e){b(n,function(t){e.cid===t.id&&(e.state||(e.state=t.state),t.items&&t.items.length>0&&(e.items=t.items))})}),b(n,function(t){rc(t.items,t.children)})}function N(t){var e;t=t||{},this.id=++p.uniqueId,this.parent=t.parent||null,this.children=[],this.name=t.name||"",this.type=t.type||x,this.subType=this.type===x?t.subType||"click":t.subType,this.items=[],this.remain=(e={},b(nc,function(t){e[t]={current:0,children:0}}),e),this.s=t.s||E(),this.e=null,this.data=t.data,this.state=re,this.crossPage=t.crossPage||!1,this.postComposer=[],this.endLock=t.endLock,this.registerTimeout(),this.closed=!1,this.isTimeout=!1,this.cleared=!1,this.stateChanged=!1,this.actionCount={ajax:this.type===v?1:0,iframe:this.type===Gt?1:0},this.sent=!1,this.sendOptions={},this.spe=null,null!=this.parent&&this.parent.children.push(this),this.eventData=null,this.resource={handler:{},statistic:{},record:{timeout:[],error:[]}},this._ctx={},this.aid=t.aid||t.parent&&t.parent.aid,this.associated=!1}function ic(t){var e=Do(),n={id:t||T(),time:E()};!function(t){Po([t.id,t.startTime])}(n);var r=Do();return jo(Sr,{prev:e,current:r,init:!1}),n}function ac(){var t,e;Lo()&&(t=Bo(),e=t.session,t.valid&&Mo(e),Ho=!1)}function oc(){if(!ec){try{ec=window.performance.timing.navigationStart}catch(t){}ec||(ec=W)}return ec}N.prototype.end=function(t){var e;this.closed?!this.cleared&&_.console_debug:(t&&(this.actionCount.ajax+=t.actionCount.ajax,this.actionCount.iframe+=t.actionCount.iframe,function(t,e){b(t,function(t){t.cid===e.id&&e.items&&e.items.length>0&&(t.items=e.items)})}(this.items,t),this.updateRemain(-1,t.type)),this.endLock||(this.isNoRemain()||this.isTimeout||this.associated)&&(this.e=E(),this.closed=!0,this.i&&clearTimeout(this.i),this.e-this.s>_.eventTimeout&&(this.isTimeout=!0),this.setState(this.isTimeout?ae:ie),this.data&&(this.data.state=this.state),this.parent?this.parent.end(this):(this.isTimeout&&(this.isRemainMeaningfulAction()||this.isMeaningfulAction())?e=this.composeTimeoutActionData():(this.isMeaningfulAction()||this.associated)&&(e=this.composeActionData()),e&&(this.eventData=e,this.spe&&this.buildEventDataWithSpe(),this.send()),p.context=null)))},N.prototype.isNoRemain=function(n){n=n||{};var r=!0;return b(this.remain,function(t,e){return!!(n.ignoreFields&&l(n.ignoreFields,e)>-1)||(t.current<=0&&(!!n.testCurrent||t.children<=0)?void 0:(r=!1,!1))}),r},N.prototype.clear=function(){this.closed=!0,this.cleared=!0,this.i&&clearTimeout(this.i)},N.prototype.isMeaningfulAction=function(){return this.actionCount.ajax>0||this.actionCount.iframe>0||this.type===Wt},N.prototype.isRemainMeaningfulAction=function(){return this.remain.ajax.current>0||this.remain.ajax.children>0||this.remain.iframe.current>0||this.remain.iframe.children>0},N.prototype.timeout=function(){this.isTimeout=!0,this.setState(ae),this.end(null,!0)},N.prototype.setData=function(t){this.data||(this.data={}),g(this.data,t||{})},N.prototype.composeActionData=function(){var t=g({},this.data||{});return this.items&&this.items.length>0&&(t.items=(this.items||[]).slice()),{type:this.type,subType:this.subType,start:this.s,end:this.e,duration:this.e-this.s>0?this.e-this.s:0,data:t}},N.prototype.composeTimeoutActionData=function(){return this.collectActionDataFromTop(),this.composeActionData()},N.prototype.collectActionDataFromTop=function(){rc(this.items,this.children)},N.prototype.collectCrossPageData=function(t){if(t||(t=[]),this.crossPage=!0,this.data&&(this.data.crossPage=!0),t.unshift(this.data),this.parent)return this.parent.collectCrossPageData(t);var e={type:this.type,subType:this.subType,start:this.s};return(this.isNoRemain()||1===this.children.length)&&this.clear(),{action:e,data:t,requestInfo:Va(),commonActionInfo:Qo(),fromUrl:u.ref}},N.prototype.canEnd=function(t){return!this.closed&&this.isNoRemain(g({testCurrent:!0},t))},N.prototype.updateRemain=function(t,e){if(this.remain[e]){e||(e=v);var n=t||0;this.remain[e].current=this.remain[e].current+n;for(var r=this.parent;r;)r.remain[e].children=r.remain[e].children+n,r=r.parent}},N.prototype.setState=function(t){return!this.stateChanged&&(this.state=t,this.stateChanged=!0,!0)},N.prototype.current=function(){return p.context},N.prototype.buildEventDataWithSpe=function(){if(this.spe&&this.eventData&&this.eventData.data){var t=this.spe.xhrs;this.spe.hasAjax=t&&t.length>0,delete this.spe.xhrs,this.eventData.data.spe=this.spe}},N.prototype.setSpe=function(t){if(t)return this.spe=t,this.sent},N.prototype.send=function(){var e=this;if(!this.sent){var t={};this.spe&&(t.query={ss:1},this.spe.type===sn&&(t.query.rs=1)),this.postComposer.length>0&&b(this.postComposer,function(t){t.call(null,e)}),this.setSendOptions(t),$o(this.eventData,this.sendOptions),this.sent=!0}},N.prototype.addResource=function(n,t){var r=this;if(n&&!n[Wn]){var e={start:t,name:n.src||"",type:n.nodeName?n.nodeName.toLowerCase():"",timeout:!1,load:!1,error:!1,finished:!1},i=T();n[Wn]=i,this.resource.handler[i]=e,this.countResource("total",n.src),this.updateRemain(1,$t),e.timerId=vt(function(){var t=r.resource.handler[i];t&&!t.finished&&(r.countResource("timeout",n.src),t.timeout=!0,t.finished=!0,r.updateRemain(-1,$t),r.end())},_.resourceWaitTime),e.handler=function(t){var e=r.resource.handler[i];if(e&&!e.finished){clearTimeout(e.timerId),r.updateRemain(-1,$t);try{r.countResource(t.type,n.src),e[t.type]=!0}catch(t){}e.finished=!0,r.end()}},0!==e.name.indexOf("data:image/")?(n.addEventListener("load",e.handler),n.addEventListener("error",e.handler)):e.handler({type:"load"})}},N.prototype.countResource=function(t,e,n){this.resource.statistic[t]||(this.resource.statistic[t]={}),this.resource.statistic[t][e]||(this.resource.statistic[t][e]=0),this.resource.statistic[t][e]+=n||1},N.prototype.hasChildType=function(e){var n=!1;return b(this.children,function(t){if(t.type===e)return n=!0,!1}),n},N.buildImmediateAction=function(t,e,n,r){var i=g({type:t,state:"finish"},(r=r||{}).actionOptions||{});return e&&(i.subType=e),n&&(i.data=n),i.data&&(i.data.state=i.state),r.notSend||$o(i,r.sendOptions),i},N.getRootContext=function(t,e){if(!t&&!w(e))return null;for(;t;){if(null==t.parent&&e.call(null,t))return t;t=t.parent}return null},N.containContext=function(t,e){if(!t&&!w(e))return!1;for(;t;){if(e.call(null,t))return!0;t=t.parent}return!1},N.prototype.toJSON=function(){return undefined},N.prototype.setSendOptions=function(t){this.sendOptions||(this.sendOptions={}),g(this.sendOptions,t)},N.prototype.registerTimeout=function(){var t=this;null==this.parent&&this.type!==Wt&&(this.i=vt(function(){t.timeout()},_.eventTimeout))},N.prototype.addPostComposer=function(t){this.postComposer.push(t)},N.prototype.markAssociated=function(){this.isDomEvent()&&this.children.length<=0&&(this.associated=!0,this.end())},N.prototype.isDomEvent=function(){return this.type===x&&this.subType!==Ue};var cc=window.performance&&w(window.performance.now)?function(){return performance.now()}:function(){return E()-oc()};function sc(t){try{return t>1e12}catch(t){}return!1}function uc(t){return t-oc()}function fc(t){t=t||{},this._capacity=t.capacity||10,this._cache={},this._cacheKeys=[],this._size=0}function I(t,e,n){if(t&&n&&w(n)){var r=t[e];if(!r||!r._wrapped){var i=n(r,e);return i&&(i._wrapped=!0),t[e]=i,i}}}function dc(t,e){var n;return t&&(n=!0,b(t,function(){return n=!1},e)),!!n}fc.prototype.put=function(t,e){if(!this._cache[t]){if(this._size>=this._capacity)try{var n=this._cacheKeys.shift();this._size--,this._cache[n]=null,delete this._cache[n]}catch(t){}this._cacheKeys.push(t),this._size++}this._cache[t]=e},fc.prototype.get=function(t){return this._cache[t]};var lc=w(Object.keys)?function(t){var e=0;try{e=Object.keys(t).length}catch(t){}return e}:function(t){var e=0;return b(t,function(){e++}),e};function hc(t,e,n){null==n||dc(n)||(t[e]=n)}function pc(t,e,n){null!=n&&(t[e]=n)}var vc=[qe,Be],mc=1,yc=2;function gc(n,r){return function(t){if(window[zt].hook&&window[zt].hook.eventCb&&function(t){return t&&t.target instanceof window.HTMLElement&&t.currentTarget instanceof window.HTMLElement}(t)){var e={originalCallback:n,eventHandlerType:r};return window[zt].hook.eventCb.call(this,arguments,e)}return n.apply(this,arguments)}}function bc(t){var e;return!function(t){return w(t)}(t)?function(t){return f(t)&&w(t.handleEvent)}(t)&&(e=yc):e=mc,{isValid:t&&e,listenerType:e}}function wc(s){return function(){try{var t=arguments[0],e=arguments[1],n=arguments[2],r=!0;n&&f(n)&&n[He]&&(r=!1);var i=bc(e),a=i.isValid,o=i.listenerType;if(r&&vc.indexOf(t)>-1&&a&&o===mc){var c=e[fn];c||(!function(e,n,r){try{if(w(Object.defineProperty))try{Object.defineProperty(e,n,{value:r,writable:!0,configurable:!0})}catch(t){e[n]=r}else e[n]=r}catch(t){}}(e,fn,gc(e,Fe)),c=e[fn]),c&&(arguments[1]=c)}}catch(t){}return s&&s.apply(this,arguments)}}function Ec(){try{window.EventTarget&&(I(window.EventTarget.prototype,"addEventListener",function(t){return wc(t)}),I(window.EventTarget.prototype,"removeEventListener",function(t){return function(i){return function(t,e){try{if(e&&vc.indexOf(t)>-1){var n=e[fn];if(n){var r=[].slice.call(arguments);r[1]=n,i.apply(this,r)}}}catch(t){}return i&&i.apply(this,arguments)}}(t)}))}catch(t){}}var Tc,xc=[qe,Be],_c=[],Sc=new fc({capacity:5}),kc=new fc({capacity:5}),Cc=null;function Ac(t){return!!t.match(Ac.regex)}function Oc(c){try{if(!c)return"";for(var s=[],u=c.parentNode,t=function t(){var t,e,n=c.tagName;e=(t=u.children)?1===G(t,function(t){return t.tagName===n}).length?n:"".concat(n,":nth-child(").concat(1+l(t,c),")"):n;var r=c.id?"#".concat(c.id):"",i=c.className;d(i)&&(i=pa(i));var a="";if(i){var o=i.split(" ");o&&(a=G(o,function(t){return pa(t)}).map(function(t){return".".concat(t)}).join(""))}s.unshift("".concat(e).concat(r).concat(a)),u=(c=u).parentNode};u;)t();return"".concat(s.join(" > ")).toLowerCase()}catch(t){return""}}function Rc(t,e,n){var r,i=t.target,a=i.nodeName,o=i.id,c=i.className,s=i.title,u=i.value,f=i.innerText,d=a+o,l=function(t){return!(null==t.isTrusted&&null==t.pointerType||t.isTrusted&&(null==t.pointerType||t.pointerType))}(t),h={type:x,id:o,nodeName:a,className:c,title:s,value:u,text:a===Ke?"":(r=f,r&&r.substr(0,256)||""),path:Oc(t.target),trigger:l?bn:gn,range:wn},p=t[Me];if(p||(p=T(),t[Me]=p),h.eventId=p,l){var v=t.timeStamp&&E();Cc&&Math.abs(v-Cc.timestamp)<=In&&(h.refId=Cc.eventId)}else Cc={timestamp:t.timeStamp&&E(),eventId:h.eventId};if(Ye===a){var m=t.target.getAttribute("src");m&&!Ac(m)&&(h.src=m)}if(Je===a){var y=t.target.getAttribute("href");y&&(h.href=y)}return h.eventHandlerType=e,h.actionId=p,new N(g({name:d,type:x,subType:t.type||qe,data:h,aid:p},n))}function Nc(t,e){p.context=Rc(t,e)}function Ic(){var t=p.context;t&&t.canEnd()&&t.end(),p.context=null}function jc(t,e){var n,r=e.originalCallback,i=e.eventHandlerType,a=t[0],o=!(a&&a.target&&xc.indexOf(a.type)>-1);if(!o)try{Nc.call(this,a,i)}catch(t){}try{n=r.apply(this,t)}finally{if(!o)try{p.context&&!p.context.canEnd({ignoreFields:[Kt]})&&(a[Le]=!0,a[Me]&&p.context.isDomEvent()&&kc.put(a[Me],p.context)),Ic.apply(this)}catch(t){}}return n}function Dc(t){var e=window.performance&&window.performance.timing?window.performance.timing.navigationStart:W,n=t.timeStamp;return n=n?sc(n)?n:Math.round(t.timeStamp+e):E()}function Pc(t,e){return Math.abs(t-e)<_.inline_event_associate_threshold}function Lc(t){var e=G(_c,function(t){return!t[Le]}),n=e[e.length-1];if(n){var r,i=Dc(n);if(Pc(i,t))return n[Me]&&(r=Sc.get(n[Me])),r||(r=Rc(n,Ve,{s:i}),n[Me]&&Sc.put(n[Me],r)),r}}function Hc(){_.hook_auto_event&&(window[zt].hook&&(window[zt].hook.eventCb=jc),!window[zt].listenerHooked&&window.HTMLElement&&(_.hookEventListener&&Ec(),_.hookOnProperty&&function(){try{if(!Object.getOwnPropertyDescriptor||!Object.defineProperty)return;b(vc,function(t){var e="on"+t,n=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,e);if(!n)return!0;var r=n.get,i=n.set;if(!r||!i)return!0;Object.defineProperty(window.HTMLElement.prototype,e,{get:function t(){return r.apply(this,arguments)},set:function t(){try{var e=arguments[0];e&&(arguments[0]=gc(e,ze))}catch(t){}i.apply(this,arguments)},configurable:!0,enumerable:!0})})}catch(t){}}()),_.hook_inline_event&&b(xc,function(t){document.addEventListener(t,function(t){_c.length>=Ne&&_c.shift(),_c.push(t)},h({capture:!0},He,!0))}))}function Mc(t){this.data=[],this.maxSize=t.maxSize}function qc(t){_.bcEnabled&&t&&t.category&&(t.timestamp||(t.timestamp=E()),t.type||(t.type=Mr),t.level||(t.level=Br),t.message||(t.message=""),Tc&&Tc.add(t))}function Bc(t){var e={},n=t.split(":");if(!n)return e;if(1===n.length)e.filename=n[0],e.lineno=0,e.colno=0,e.resolveLevel=nr;else if(n.length>=2){var r,i=n[n.length-1],a=n[n.length-2],o=!isNaN(+i),c=!isNaN(+a);o&&c?(r=2,e.lineno=+a,e.colno=+i,e.resolveLevel=ir):o?(r=1,e.lineno=+i,e.colno=0,e.resolveLevel=rr):(r=0,e.lineno=0,e.colno=0,e.resolveLevel=nr),e.filename=(n.slice(0,n.length-r)||[]).join(":")}return e}function Uc(t){if(t){var r,i={};return b(t.split(/\n/),function(t){var e=function(t){if(t&&(t=pa(t))){var e;if(0===t.indexOf("at ")){var n=t.indexOf("("),r=t.indexOf(")");if(n>-1&&r>-1){var i=n+1;i>r&&(i=r);var a=t.substring(i,r);a&&(e=Bc(a))}else{var o=t.split(" "),c=o[o.length-1];c&&(e=Bc(c))}}else if(t.indexOf("@")>-1){var s=t.split("@");s[1]&&(e=Bc(s[1]))}return e}}(t);if(!e)return!0;var n=e.resolveLevel;if(n===ir){if(e.filename&&e.lineno>0&&e.colno>0)return r=e,!1}else i[n]||(i[n]=e)}),r||(r=i[rr]||i[nr]),r}}Ac.regex=/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i,Mc.prototype.add=function(t){t&&(this.data.length===this.maxSize&&this.data.shift(),this.data.push(t))},Mc.prototype.getAll=function(){return this.data};var Fc=Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e},zc=1,Vc=2,Yc=4,Jc=8;function Kc(t,e){this.flags=0,w(t.create)&&(this.create=t.create,this.flags|=zc),w(t.before)&&(this.before=t.before,this.flags|=Vc),w(t.after)&&(this.after=t.after,this.flags|=Yc),w(t.error)&&(this.error=t.error,this.flags|=Jc),this.data=e}var j,Gc=Kc.prototype;function Wc(t,e){return!j||j.flags<=0?t:function(e,t){var n=t||j.data;if(!n&&0!=(j.flags&zc)){var r=j.create(j.data);r!==undefined&&(n=r)}return function(){var t;if(0!=(j.flags&Vc)&&j.before(this,n),_.catchAsyncCallback){try{t=e.apply(this,arguments)}catch(t){throw 0!=(j.flags&Jc)&&j.error(n,t),t}0!=(j.flags&Yc)&&j.after(this,n)}else try{t=e.apply(this,arguments)}finally{0!=(j.flags&Yc)&&j.after(this,n)}return t}}(t,e)}function Xc(t,e){return function(e){return function(){var t;try{t=e.apply(this,arguments)}finally{p.context=null}return t}}(Wc(t,e))}function Qc(){this.id=null,this.active=null,this._set=[]}function $c(){var i=new Qc;return i.id=function(t,e){if(!j){if(!f(t)||!t)throw new TypeError("callbacks arguments must be an object");return j=new Kc(t,e)}}({create:function t(){return i.active},before:function t(e,n){n&&i.enter(n)},after:function t(e,n){n&&i.exit(n)},error:function t(e,n){if(e){try{var r="moduleId";n[r]=e[r]}catch(t){}i.exit(e)}}}),i}Gc.create=Gc.before=Gc.after=Gc.error=null,Qc.prototype={createContext:function t(){return Fc(this.active)},getContext:function t(){return this.active},get:function t(e){if(this.active)return this.active[e]},set:function t(e,n){if(this.active)return this.active[e]=n},enter:function t(e){if(!e)throw new Ri("context required!");this._set.push(this.active),this.active=e},exit:function t(e){if(!e)throw new Ri("context required!");if(e!==this.active){var n=this._set.lastIndexOf?this._set.lastIndexOf(e):dt(this._set,e);if(n<0)throw new Ri("context not currently entered!");this._set.splice(n,1)}else this.active=this._set.pop()},bind:function t(n,r){r||(r=this.active?this.active:this.createContext());var i=this;return function(){i.enter(r);try{return n.apply(this,arguments)}catch(t){try{var e="moduleId";t[e]=r[e]}catch(t){}throw t}finally{i.exit(r)}}}};var Zc,ts=!1;var es=(ts||(Zc=$c(),ts=!0),Zc),ns=1e4,rs=0,is={},as={},os="js",cs="other";function ss(t){this.limit=t,this.reset()}ss.prototype={add:function t(e,n){this.len>this.limit||this.get(e)||(this.c[e]=n,this.len++)},get:function t(e){return this.c[e]},reset:function t(){this.c={},this.len=0}};var us=new ss(100);function fs(t,e,n,r,i,a,o,c,s){var u=this;u.id=t,u.time=E(),u.msg=e,u.lineno=r,u.colno=i,u.filename=n,u.count=1,u.stack=a&&a.stack||"",u.module=o,u.trigger=c||Kr,u.error=a,u.category=s,u.fix();var f=function(t,e,n,r,i){return String(t)+String(e)+String(n)+String(r)+String(i)}(e,r,i,o,s),d=is[f];u.ep=d?0:1,is[f]=!0,u.fep=0,u.trace={},this.recordFileName()}function ds(){var t,e,n=(t=us.c,e=[],b(t,function(t){e.push(t.toObject())}),e);if(n&&n.length){var r=0;try{r=parseInt((E()-(bt.pfStart||W))/1e3)}catch(t){}var i={fu:rs||rs++,os:r};N.buildImmediateAction(Qt,null,null,{actionOptions:g(i,{items:n})}),us.reset()}}function ls(t,e,n,r,i,a,o){if(e||_.uploadEmptyFileErrors){var c=i&&i.moduleId,s=os;try{o&&o.category&&(o.category!==os&&o.category!==cs||(s=o.category),delete o.category)}catch(t){}var u=function(t,e,n,r,i,a){return String(t)+String(e)+String(n)+String(r)+String(i)+String(a)}(e,t,n,r,c,s),f=us.get(u);f?f.increase():(f=new fs(u,t,e,n,r,i,c,a,s),us.add(u,f),S.addCache(aa,function(){return f}));var d=f.initTraceInstance();f.triggerActionHook(d);var l=d.scope;if(o)try{if(l){var h=o;o.breadcrumbs?(l.setBreadcrumbs(o.breadcrumbs),h=o.contexts):o.contexts&&(h=o.contexts),l.setContext(h)}}catch(t){}return l.setBreadcrumbs(function(){if(Tc){var t=Tc.getAll();if(0!==t.length)return t}}()),f.trace[d.id]={time:d.time,scope:d.scope,aid:d.aid},d.id}}function hs(t,e,n){if(co()&&_.jsErrorEnabled&&t){var r=t.message||"",i=t.stack,a=t.fileName||"",o=t.lineNumber||0,c=t.columnNumber||0;if(i&&(!a||o<=0||c<=0)){var s=Uc(i);s&&(a=s.filename,o=s.lineno,c=s.colno)}return ls(r,a,o,c,{stack:i},n||Gr,e)}}function ps(t){return w(t)?t.apply(this):t}function vs(t){if(co()&&t&&f(t)){var e=t.name,n=t.msg,r=t.status,i=t.context,a=ps(e),o=ps(n),c=ps(r),s=ps(i),u={type:er,name:a,time:E()};u.name&&(o&&(u.msg=o),c&&(u.status=c),s&&f(s)&&(u.scope={contexts:s}),N.buildImmediateAction(er,null,u),Ia(br))}}function ms(t){return bs(t,_.optCustomParamRules[It],!0)}fs.prototype={increase:function t(){this.recordFileName(),this.count++},recordFileName:function t(){var e=this.filename||"_";this.fep+=as[e]?0:1,as[e]=!0},fix:function t(){var e=this.stack;if(e&&d(e)){e=e.split(/\n/);var n=[];b(e,function(t,e){-1==t.indexOf("__ty_asyncWrap__")&&n.push(t)}),this.stack=n.join("\n")}},getErrorOverview:function t(){var e=this;return{o:e.time,e:e.msg,l:e.lineno,c:e.colno,r:e.filename,ec:e.count,s:e.stack,m:e.module,ep:e.ep,fep:e.fep,tr:e.trigger,cat:e.category}},toObject:function t(){var e=this.getErrorOverview(),i={};return b(this.trace,function(t,e){var n={time:t.time},r=t.aid;r&&(n.actionId=r),i[e]=Ci(n,t.scope)}),e.trace=i,e},initTraceInstance:function t(){var e={id:T(),time:E(),scope:new s},n=function(t){try{var e=es.get("event");if(e&&e.key&&e.type===on&&e.aid)return e.aid;var n=p.context;return n||(n=function(t){var e=_c[_c.length-1];if(e){var n=Dc(e);if(Pc(n,t)){var r,i=e[Me];return i&&(r=e[Le]?kc.get(i):Sc.get(i)),r||(r=Rc(e,Ve,{s:n}),e[Me]&&Sc.put(e[Me],r)),r}}}(t)),n&&n.aid&&n.markAssociated(),n&&n.aid||p.routeAid}catch(t){}}(e.time);return n&&(e.aid=n),e},triggerActionHook:function t(e){if(e){var n=g(this.getErrorOverview(),{id:e.id,o:e.time});xi({type:Dn,name:qn,args:{target:this.error,actionData:n},scope:e.scope}),n.id&&(e.id=n.id)}}};var ys={};function gs(t){return(t+="")&&t.substr(0,128)||""}function bs(t,e,r){var i;if(t&&e&&e.length&&e.length>0){var a=w(t)?t():t;a&&b(e,function(t){var e=a[t];if(null!=e)ha(i=i||{},t,e);else if(r){var n=function(t,e){var n=t+"."+e;if(ys[n])return ys[n];var r=(e||"").split("."),i="";e&&0!==e.indexOf("[")&&(i=".");var a,o=t;b(r,function(t,e){0===e&&(o+=i),t.indexOf("-")>-1&&0!==t.indexOf("[")&&t.indexOf("]")!==t.length-1?o+="['"+t+"']":o+=(e>0?".":"")+t});try{a=new Function(t,"try{return "+o+";}catch(e){}return null;")}catch(t){a=ht}return ys[n]=a,a}(Ht,t);null!=(e=n(a))&&ha(i=i||{},t,e)}})}return i}var ws=!0,Es={start:W,e:{}};function Ts(t){ws&&t()}var xs=[];function _s(t){xs.push({cb:t})}function Ss(){a(window,"pageshow",function(t){t&&t.persisted&&function(e){b(xs,function(t){t.cb(e)})}(t)},!0)}var ks={};function Cs(t,e){ks[T()]={cb:t,once:e}}var As=-1;function Os(i){try{var a=[];b(ks,function(t,e){var n=t.cb,r=t.once;n&&n(i),r&&a.push(e)}),b(a,function(t){delete ks[t]})}catch(i){}}function Rs(){As="hidden"===document.visibilityState?0:Infinity,Cs(function(t){var e=t.timeStamp;e&&(As=e)},!0)}function Ns(){return As}var Is={};function js(t){Is[t]&&(Is[t]=[])}var Ds,Ps,Ls={stop:ht},Hs=function(){try{var t=new window.PerformanceObserver(function(){});return t.observe({type:zn,buffered:!0}),t.disconnect(),!0}catch(t){return!1}}();function Ms(t,n,e){var r,i,a;try{if(!qs(t))return Ls;if(t===$r&&!("PerformanceEventTiming"in window))return Ls;var o=function t(e){b(e,function(t){try{n(t)}catch(t){}})};r=new PerformanceObserver(function(t){try{o(t.getEntries())}catch(t){}}),null==e&&(e=!0),r&&(Hs&&e?r.observe({type:t,buffered:!0}):(o((a=Is[i=t],js(i),a)),r.observe({entryTypes:[t]})))}catch(t){}return{po:r,stop:function t(){try{r&&r.disconnect()}catch(t){}}}}function qs(t){return window.PerformanceObserver&&l(window.PerformanceObserver.supportedEntryTypes,t)>-1}function Bs(t){var e;try{e=t.getBoundingClientRect?t.getBoundingClientRect():undefined}catch(t){}return e}function Us(t){t.startTime<Ns()&&(Ps=t)}function Fs(){try{if(!Ds)return;b(Ds.takeRecords(),function(t){Us(t)}),Ds.disconnect()}catch(t){}}function zs(){if(Ps){var t,e=Ps.element;if(e){var n={top:window.pageYOffset||0,left:window.pageXOffset||0},r=Bs(e);r&&(t={top:r.top,left:r.left,width:r.width,height:r.height,pageTop:n.top,pageLeft:n.left})}return{value:Ps.startTime,data:{loadTime:Ps.loadTime,renderTime:Ps.renderTime,element:{id:Ps.id,path:Oc(e),size:Ps.size,url:Ps.url,rect:t}}}}}var Vs=[Ee,Te,"workerStart",be,we,xe,_e,se,ue,Se,ke,Ce,Ae],Ys="getEntriesByType",D={UNKNOWN:0,TRUE:1,FALSE:2};function Js(t,e){try{var n;return e||(e=window.performance||{}),w(e[Ys])&&(n=e[Ys](t)),n||[]}catch(t){return[]}}function Ks(t){t||(t={});var e=t,n=e.wd,r=e.startTime;n||(n=window);var i=n.performance||{},a=i.timing;return r||(r=a&&a.navigationStart?a.navigationStart:W),g(t,{wd:n,performance:i,timing:a,startTime:r})}function P(t){return t>0?t:0}function Gs(t){return g(t.item,t.extra)}function Ws(t){var e=Xs(t),n=e.item,r=e.extra;return n.di=P(t[he]),n.dcls=P(t[de]),n.dcle=P(t[le]),n.dc=P(t[pe]),n.ls=P(t[ve]),n.le=P(t[me]),n.us=P(t[ye]),n.ue=P(t[ge]),n.rds=P(t[Ee]),n.rde=P(t[Te]),{item:n,extra:r}}function Xs(t,e){var n={o:P(t[oe]),rt:t.initiatorType,n:t.name,f:P(t[ce]),ds:P(t[be]),de:P(t[we]),cs:P(t[xe]),ce:P(t[_e]),sl:P(t[Se]),qs:P(t[se]),rs:P(t[ue]),re:P(t[fe]),ts:P(t[ke]),es:P(t[Ce]),dbs:P(t[Ae])},r=t.entryType,i=t[Re];null==i&&(r===Wr?i=t[fe]-t[oe]:r===Qr&&(i=t[me]-t[oe])),null!=i&&(n.du=P(i));var a={},o=t.initiatorType,c=t.name;if(xr===o||_r===o){var s=o===xr?Xn:Qn,u=$s(c,S.getCacheSnapshot(ia,e),s);u?(b(u,function(t,e){0==e.indexOf("s_")&&(a[e]=t)}),u.st&&(a.st=u.st),u.apms&&(a.apms=u.apms),a.status=u.status,a.cb=u.cb,a.err=u.err,a.error=u.status>=400||u.err>0?D.TRUE:D.FALSE,a.method=u.method):a.error=D.UNKNOWN}else{var f;r===Wr&&(f=$s(c,S.getCacheSnapshot(oa,e)),a.error=f?D.TRUE:D.FALSE,a.err=f?ii.error:0);var d=200;f?d=0:300===t[ke]&&(d=304),a.status=d}return a.cors=function(e){var n=!0;b(Vs,function(t){if(null!=e[t]&&0!==e[t])return n=!1,!1});var t=!0;Oe in e&&(t=""===e[Oe]);return n&&t?D.TRUE:D.FALSE}(t),a.cached=function(t,e){if(e===D.TRUE)return D.UNKNOWN;if(null==t[ke])return D.UNKNOWN;return t[ke]<=300?D.TRUE:D.FALSE}(t,n.cors),a.compressed=function(t,e){if(e===D.TRUE)return D.UNKNOWN;if(null==t[Ce]||null==t[Ae])return D.UNKNOWN;return t[Ce]<t[Ae]?D.TRUE:D.FALSE}(t,n.cors),{item:n,extra:a}}function Qs(){var t,e=Ks(),n=e.performance,r=e.timing,i=Js(Qr,n);if(!(t=i&&i[0])&&r)for(var a in t={entryType:Qr,initiatorType:Qr,name:u.ref,startTime:0},r)"navigationStart"!==a&&"toJSON"!==a&&(t[a]=P(r[a]-r.navigationStart));return t}function $s(n,t,r){var i,a;if(n)return b(t,function(t,e){if(t&&n.indexOf(t.url)>-1&&(!r||t.subType===r))return i=t,a=e,!1}),i&&t.splice(a,1),i}var Zs=0,tu=1,eu=2,nu=3;function ru(t,e){var n,r=Ks(e),i=r.timing,a=r.startTime,o=r.ifr,c=0;i&&(c=i[de]||i.domInteractive||i.domLoading||c,n=tu),c<=0&&!o&&(S.domContentLoadedEventStart?(c=S.domContentLoadedEventStart,n=eu):(c=S._end,n=nu));var s=c-a;s<0&&(s=t.metric.fp,n=Zs),t.metric.dr=Math.round(s),t.debug.dr=n}var iu,au=[],ou=!1;function cu(){return{value:iu,inited:ou}}function su(t){var e;t||(t=window);try{e=t.performance&&t.performance.getEntriesByName&&t.performance.getEntriesByName(Yn)[0]}catch(t){}return e}function uu(){var n,t=function t(e){try{if(e.name!==Yn)return;n&&n.disconnect(),e.startTime<Ns()&&(iu=e.startTime),function(e){b(au,function(t){t(e)})}({value:iu}),ou=!0}catch(t){}},e=su();e?t(e):n=Ms(zn,t).po}var fu=0,du=1,lu=2,hu=3,pu=4,vu=5;function mu(t,e){var n,r=Ks(e),i=r.performance,a=r.timing,o=r.startTime,c=r.wd,s=r.ifr,u=0,f=0;if(s){var d=su(c);d&&(f=d.startTime)}else f=cu().value;if(f>0?(u=f,n=du):i.getEntriesByName&&a?(u=a.domLoading,b(bt.resources,function(t){var e=i.getEntriesByName(t);if(1===e.length){var n=e[0].responseEnd;n>u&&(u=n)}}),u-=o,n=pu):c.TINGYUN&&c.TINGYUN[hn]&&((u=c.TINGYUN[hn]-o)<0&&(u=0),n=vu),!u||u<=0){if(c.chrome&&c.chrome.loadTimes){var l=c.chrome.loadTimes();l&&l.firstPaintTime&&(u=1e3*l.firstPaintTime-o,n=lu)}else a&&a.msFirstPaint&&(u=a.msFirstPaint-o,n=hu);(!u||u<=0)&&(u=0,n=fu)}t.metric.fp=Math.round(u),t.debug.fp=n}function yu(t){return C.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:function(t){for(;t&&1===t.nodeType;){if("none"===gu(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}(t)}function gu(t){return t.style&&t.style.display}var bu=0,wu=1,Eu=2,Tu=3,xu=4,_u=5;function Su(t,e){var n,r=Ks(e),a=r.performance,i=r.timing,o=r.startTime,c=r.ifr,s=r.wd,u=t.metric.fp,f=u||0,d=_u,l=0;if(!c){var h=zs();h&&(l=h.value,n=h.data)}if(_.lcpAsFs&&l>0)f=l,d=wu;else if(!c&&bt.lcpStopTime)f=bt.lcpStopTime-o,d=Eu;else if(function(){var t=!0;document.createElement("img").getBoundingClientRect||(t=!1);return t}()){var p=c?[]:bt.imageResources||[],v=s.innerHeight,m=s.innerWidth;v||(v=s.document.documentElement.clientHeight),m||(m=s.document.documentElement.clientWidth);var y=[];p.length>0?b(p,function(t){ku(t.element,v,m)&&y.push(t)}):w(a.getEntriesByName)&&b(s.document.querySelectorAll("img"),function(t){ku(t,v,m)&&y.push({element:t})});var g=(i&&i.loadEventEnd||S.loadEventEnd)-o;b(y,function(t){if(t.loadTime){var e=t.loadTime-o;e>f&&(f=e,d=xu)}else if(t.element&&t.element.src){var n=a.getEntriesByName(t.element.src);if(n&&n.length){var r=n[0];if(r){var i=r.responseEnd;r.fetchStart<=g&&i>f&&(f=i,d=Tu)}}}})}f<u&&(d=_u,(f=u||0)<=0&&(f=0,d=bu)),t.metric.fs=Math.round(f),t.debug.fs=d,n&&(t.data||(t.data={}),t.data.fs={lcp:n})}function ku(t,e,n){return t.src&&function(e){if(!e)return!1;if(!_.fs_resources||0===_.fs_resources.length)return!0;var n=!1;return b(_.fs_resources,function(t){if(e.indexOf(t)>-1)return n=!0,!1}),n}(t.src)&&function(t,e,n){if(t){var r=window.pageYOffset;if(t.top+(0===r?0:r||document.scrollTop||0)-(document.clientTop||0)>=e)return!1;var i=t.left;return i>=0&&i<n}return!1}(Bs(t),e,n)&&!yu(t)}function Cu(t,e){var n=t.metric;n.loadEventEnd=n.le;var r=Ks(e),i=r.timing,a=r.startTime,o=r.context,c=r.ifr,s=0;if(o&&o.hasChildType(v))s=E()-a;else{var u,f=i&&i.loadEventEnd;u=c?f||E():f||S.loadEventEnd||E();var d=0;a>0&&u>a&&(d=u-a);var l=[n.fs,n.dr,n.fp,d];s=Math.max.apply(null,l)}n.le=Math.round(s)}var Au=!1;function Ou(t){return t.loadEventEnd||t._end}function Ru(t){var e=t.fp||0,n=0,r=window.performance&&window.performance.timing&&window.performance.timing.navigationStart;return r||(r=W,e=0),(n=E()-r-e)<0&&(n=0),n}function Nu(t){var e,n={},r=(t.performance||{}).timing,i=t.TINGYUN&&t.TINGYUN.globalStart||W,a=t.TINGYUN&&t.TINGYUN.currentAgent||S;if(r){Ts(function(){var n=Es.t={};b(r,function(t,e){w(t)||(n[e]=t)},!0)}),r.navigationStart&&(i=r.navigationStart),n={ns:i,f:h(ce),qs:h(se),rs:h(ue),re:h(fe),os:h(de),oe:h(le),oi:h(he),oc:h(pe),ls:h(ve),le:h(me),tus:h(ye),tue:h(ge)};var o=h(be),c=h(we),s=h(Ee),u=h(Te),f=h(xe),d=h(_e);if(n.cs=f,n.ce=d,n.ds=o,n.de=c,(u-s>0||u>0)&&(n.es=s,n.ee=u),0==n.le){var l=Ou(a);n.ue=l-i}a&&(a._le=n.ue||n.le),r[Se]?n.sl=h(Se):n.sl=0}else n={t:i,le:Ou(a)-i};try{aa in a?e=a.errs:a.getCache&&(e=a.getCache(aa))}catch(t){}return n.je=e&&e.length||0,n;function h(t){return r[t]>0?r[t]-i:0}}function Iu(t){try{var e=function(){try{if(Au)return;var t=document.querySelector("input#sensor_pg_v");if(!t)return;var e=t.value;if(!e)return;var i=!1,a={};if(b(e.split(","),function(t){var e,n,r=t.indexOf(":");r>-1&&(e=pa(t.substring(0,r)),n=pa(t.substring(r+1))),"abt"!==e&&"abp"!==e||!n||(a[e]=n,i=!0)}),i)return u.ref=xa(window.location.href,a),Au=!0,!0}catch(t){}}();if(t&&!e)return;var n=ba(u.ref).queryObj;if(n){var r=ms(n);if(r){var i={};i[It]=r,p.opt_custom_param=i}}}catch(t){}}var ju="undefined"!=typeof window.console,Du=1,Pu=0,Lu="success",Hu="fail",Mu={},qu={};function Bu(t){var e=t,n=t.xhrs;e.hasAjax=n&&n.length>0,delete e.xhrs;var r={ss:1};t.type===sn&&(r.rs=1),N.buildImmediateAction(x,Ue,{type:x,items:n,spe:e},{sendOptions:{query:r}}),Ia(gr)}function Uu(t){if(qu[t.key]){var e=qu[t.key];delete qu[t.key],e.sent||!e.isMeaningfulAction()&&e.isNoRemain()?Bu(t):(e.setSpe(t),vt(function(){e.sent?Ia(gr):(e.spe=null,Bu(t))},vn))}else Bu(t)}function Fu(t){ju&&console.warn(t||"Event key required!")}var zu=Fu.prototype;function Vu(t){t=t||{},this.key=t.key,this.type=t.type||cn,this.timeout=t.timeout||an,this.status=Du,this.remain=0,this.xhrs=[],this.s=E(),this.e=null,this.called=this.sent=this.stored=!1,t.debugInfo&&(this.debugInfo=t.debugInfo),this.duration=t.duration||0,t.op&&(this.op=t.op),t.desc&&(this.desc=t.desc),this.scope=new s({contexts:t.context}),this.aid=null}zu.fail=zu.end=zu.store=ht;var Yu=Vu.prototype;function Ju(t){var e=(t=t||{}).key;if(!e)return new Fu;if(Mu[e])return new Fu("event "+e+" is executing");Mu[e]=!0;var n=es.createContext();es.enter(n);var r,i=new Vu(t);if(i._end=function(){var t=this;t.sent||t.stored||0!==t.remain||!t.called?t.stored&&this.refreshEventAndStore(n):t.finish().send(n)},i.end=function(t){t=t||{};var e=this;e.called?ju&&console.warn("Event "+this.key+"has ended or failed!"):(e.called=!0,es.exit(n),null!=t.status&&(t.status===Lu?e.status=Du:t.status===Hu?e.status=Pu:t.status!==Du&&t.status!==Pu||(e.status=t.status)),t.context&&f(t.context)&&e.scope.setContext(t.context),t.storeEvent||e._end())},i.finish=function(){var t=this;return t.e=E(),t.i&&clearTimeout(t.i),delete Mu[t.key],t},i.fail=function(t){this.end(g(t||{},{status:Pu}))},i.store=function(){this.end({storeEvent:!0}),this.refreshEventAndStore(n),this.stored=!0},i.setTag=function(t,e){this.scope&&this.scope.setTag(t,e)},i.setMetric=function(t,e,n){this.scope&&this.scope.setMetric(t,e,n)},i.type===sn){var a=function(t){var e;return e=p.context?N.getRootContext(p.context,function(t){return t.type===x&&t.subType!==Ue}):Lc(t.s),e&&!e.closed&&(qu[t.key]=e),qu[t.key]}(i);r=a&&a.data&&a.data.aid}return r||(r=T()),i.aid=r,i.type===sn&&(p.routeAid=r),es.set("event",i),i}function Ku(t){if(co()){var e=k(ka(rn));if(e&&e.start&&(!(t=t||{}).key||e.key===t.key)){var n=t.timeout;if(n||(n=6e4),e.duration=E()-e.start,e.duration>n)Aa(rn);else{var r=window.performance&&window.performance.timing;if(r&&r.navigationStart&&(r.loadEventEnd||r.loadEventStart)&&r.navigationStart-e.start>=0){var i={method:"GET",url:u.ref,status:200,type:v,subType:Wt,startSpeOffset:r.navigationStart-e.start,start:r.navigationStart,__spe:1,du:(r.loadEventEnd||r.loadEventStart)-r.navigationStart};e.xhrs||(e.xhrs=[]),e.xhrs.push(i)}var a=Du;t.status&&(a=t.status===Lu?Du:0),e.status=a,Aa(rn),Uu(e)}}}}function Gu(t,e){e.status&&e.status===Hu?t.fail():t.end()}function Wu(t,e){if(!co())return new Fu("Agent is not inited!");if(t){e=e||t.immediate;var n=Ju(t=g({type:on},e?{debugInfo:{immediate:!0}}:{},t||{}));if(e)Gu(n,t);else if(t.autoEnd){var r=t.endDelay;(!r||r<=0)&&(r=un),vt(function(){Gu(n,t)},r)}return n}}function Xu(t){var e=qu[t];if(e&&!e.closed)return e}Yu.end=Yu.finish=Yu.fail=null,Yu.send=function(t){this.sent=!0;var e=this.getEventData(t);!_.collect_noajax_hashroute&&(e.debugInfo&&e.debugInfo.api===mn||e.type===sn&&e.key.indexOf("#")>-1)&&0===e.xhrs.length||e.duration>=this.timeout||(xi({type:Dn,name:Bn,args:{actionData:e},scope:this.scope}),Ci(e,this.scope),Uu(e))},Yu.getEventData=function(t){var e=this,n=t.event&&t.event.xhrs||[];b(n,function(t){t.startSpeOffset=t.start-e.s});var r={key:e.key,start:e.s,duration:e.e-e.s,status:e.status,type:e.type,xhrs:n};return e.duration>0&&(r.duration=e.duration,r.start=e.e-e.duration),e.type===sn&&_.baseHref&&(r.baseHref=_.baseHref),this.debugInfo&&(r.debugInfo=this.debugInfo),this.op&&(r.op=this.op),this.desc&&(r.desc=this.desc),this.aid&&(r.actionId=this.aid),r},Yu.refreshEventAndStore=function(t){this.finish();var e=this.getEventData(t);Ca(rn,y(e))};var Qu,$u,L,Zu,tf,ef,nf,rf,af,of,cf,sf,uf,ff,df,lf=window,hf=($u=function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t.charAt(n)]=n;return e}(Qu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),L=String.fromCharCode,Zu=function t(e){if(e.length<2)return(n=e.charCodeAt(0))<128?e:n<2048?L(192|n>>>6)+L(128|63&n):L(224|n>>>12&15)+L(128|n>>>6&63)+L(128|63&n);var n=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return L(240|n>>>18&7)+L(128|n>>>12&63)+L(128|n>>>6&63)+L(128|63&n)},tf=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,ef=function t(e){return e.replace(tf,Zu)},nf=function t(e){var n=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[Qu.charAt(r>>>18),Qu.charAt(r>>>12&63),n>=2?"=":Qu.charAt(r>>>6&63),n>=1?"=":Qu.charAt(63&r)].join("")},rf=lf.btoa?function(t){return lf.btoa(t)}:function(t){return t.replace(/[\s\S]{1,3}/g,nf)},af=function t(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)?e.toString("base64"):rf(ef(String(e)))},of=function t(e,n){return n?af(String(e)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):af(e)},cf=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),sf=function t(e){switch(e.length){case 4:var n=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return L(55296+(n>>>10))+L(56320+(1023&n));case 3:return L((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return L((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},uf=function t(e){return e.replace(cf,sf)},ff=function t(e){var n=e.length,r=n%4,i=(n>0?$u[e.charAt(0)]<<18:0)|(n>1?$u[e.charAt(1)]<<12:0)|(n>2?$u[e.charAt(2)]<<6:0)|(n>3?$u[e.charAt(3)]:0),a=[L(i>>>16),L(i>>>8&255),L(255&i)];return a.length-=[0,0,2,1][r],a.join("")},df=lf.atob?function(t){return lf.atob(t)}:function(t){return t.replace(/\S{1,4}/g,ff)},{atob:function t(e){return df(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},btoa:rf,utob:ef,encode:of,encodeURI:function t(e){return of(e,!0)},btou:uf,decode:function t(e){return function(t){return uf(df(t))}(String(e).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))}});function pf(t){return hf.encode(t,!0)}var vf,mf,yf="TINGYUN_EK_CACHE",gf="GM",bf="light",wf="gm",Ef=C.localStorage,Tf=!1;function xf(){try{var t=La();if(!t)return;if(!vf||!mf)return"base64#".concat(pf(t));var e=mf,n=e.sm2Enc,r=(0,e.sm4Enc)(t,vf),i=n(vf,_.encPubKey);if(r&&i)return"gmjs#".concat(i,"#").concat(r)}catch(t){}}function _f(t){try{if(n=_.encMode,r=n===wf||n!==wf&&n!==bf,!(_.encEnabled&&_.encPubKey&&r))return void(mf=null);var e=t.plugins.enc;if(!(e&&e[gf]&&e[gf].sm2Enc&&e[gf].sm4Enc))return void(mf=null);mf=e[gf],Ef&&(vf=ka(yf)),vf||Sf(),Tf||(Io(Sr,function(t){t&&!t.init&&t.current&&t.current!==t.prev&&Sf()}),Tf=!0)}catch(t){}var n,r}function Sf(){try{vf=T(!0),Ef&&Ca(yf,vf)}catch(t){}}var kf,Cf="__ty_plugin_registers",Af="__ty_plugins",Of={};function Rf(){return kf||(kf={constant:{OBSERVER_SESSION:Sr,PAGEHIDE:St},util:{noop:ht,on:a,support:C,stringify:y,UUID:T,now:E,Base64:hf},bridge:{getSid:Do,getUid:La,getDid:Da,registerObserver:Io,sendRequest:da,getUrlWithParam:xa,getSendOrigin:Fa,setDefaultConfig:Ao,getAgentConfig:Co,getAgentStorage:Qa,setAgentStorage:Xa},common:{agentVersion:"3.7.0-jiaodian.1"},plugins:{}}),kf}function Nf(t){try{if(d(t)){var e=t;t=function(t){var e=window[Af];if(e&&w(e[t]))try{return e[t]()}catch(t){}}(e),t||function(t){window[Cf]&&window[Cf][t]||(window[Cf]||(window[Cf]={}),window[Cf][t]=Nf)}(e)}if(!t||!t.name)return;var n=t.name;if(Of[n])return;Of[n]=t,t.hooks&&(t.hooks.init&&wi(Ln,t.hooks.init),t.hooks.beforeSend&&Ti(Un,t.hooks.beforeSend),t.hooks.send&&Ti(Fn,t.hooks.send),t.hooks.action&&(r=t.hooks.action,w(r)&&b(vi.action,function(e){Ei(e,function(t){r.call(null,{name:e,params:t})})}))),"TingyunPluginEnc"===n&&wi(Ln,function(){_f(Rf())}),co()&&If(di,t)}catch(t){}var r}function If(t,e){try{e&&w(e[t])&&e[t](Rf())}catch(t){}}var jf,Df,Pf=["pushState","replaceState"];function Lf(t){if(_.routerEnable){var e=_a();if(e){var n=jf;jf=e,Wu({key:e,autoEnd:!0,endDelay:_.router_event_delay,type:sn,debugInfo:{api:t}}),Hf(e,n)}}}function Hf(t,e){if(_.bcHistoryEnabled&&t){var n={to:t};e&&(n.from=e),qc({category:Yr,message:t,data:n})}}function Mf(){b(Pf,function(a){I(window.history,a,function(i){return function(t,e,n){var r;r=i.apply(this,arguments);try{Lf(a)}catch(t){}return r}})}),a(window,yn,function(){Lf(yn)})}function qf(){a(window,mn,function(){Lf(mn)})}var Bf={mainVersion:3,version:"3.7.0-jiaodian.1",createEvent:Wu,globalStart:W,currentAgent:S,mark:function t(e,n){if(e){var r,i,a=e.split("_"),o=a[0],c=a[1];"ty"===o&&c&&(r=c,i={timestamp:E(),data:n},wt[r]=i)}},wrapVueRouter:function t(e,i){co()&&(i&&f(i)||(i={}),e&&e.afterEach&&(_.routerEnable=!1,e.afterEach(function(t){var e=t.fullPath;if(e=e?window.location.origin+e:t.path){var n={key:e,type:sn,autoEnd:!0,endDelay:_.router_event_delay,debugInfo:{api:"vueRouter"}};g(n,i),Wu(n);var r=Df;Df=e,Hf(e,r)}})))},setUid:Ha,createAutoEvent:Wu,endStoreEvent:Ku,endStoredAction:Ku,captureException:function t(e,n){return hs(e,n,Gr)},setDid:Pa,addHook:bi,addLifeCycleHook:wi,addActionHook:Ei,addSendHook:Ti,setContext:ki,setExtraContext:function t(){Si(),p.scope.setExtraContext.apply(p.scope,arguments)},stopLCPObserver:function t(){bt.lcpStopTime=E(),Fs()},checkHookSupported:function t(e,n){return vi[e]&&l(vi[e],n)>-1},newEvent:vs,createCustomEvent:vs,parseQuery:function t(e){return wa(ga(e))},JSON:{stringify:y,parse:k},newAction:Wu,getAgentConfig:Co,util:{uuid:T},startNextSession:function t(e){co()&&(Lo()?qo(e):ic(e),Ia("newSession",{id:Do()}))},addPlugin:Nf};function Uf(t,e){Bf[t]=e}var Ff="TingyunWeb";function zf(t){if(t&&w(Bf[t])){var e=[].slice.call(arguments,1);return Bf[t].apply(null,e)}}function Vf(){if(window[Ff]){try{!function(){var t=window[Ff].po;if(!t)return;var e=t.observer,n=t.entries;if(!e||!n)return;(function(t){var n={};b(t,function(t){var e=t.entryType;e&&(n[e]||(n[e]=[]),n[e].push(t))}),Is=n})(n),t.entries=null,e.disconnect(),window[Ff].po=null}()}catch(t){}b(window[Ff].q,function(t){try{zf.apply(null,t)}catch(t){}}),window[Ff]=zf}else window[Ff]=zf}var Yf=Ra(Ii.href);function Jf(t){if(!d(t))return{valid:!1};var e=Ra(t);return{valid:e.protocol===Yf.protocol&&e.host===Yf.host,parsed:e}}function Kf(t){if(_.apmEnableAllCorsDomains)return!0;var e,n,r=Jf(t),i=r.valid,a=r.parsed;return i||a&&a.host&&(e=a.host,n=!1,b(_.corsDomains,function(t){if(e.indexOf(t)>-1)return n=!0,!1}),n)}function Gf(t,e,n){if(t&&t[e])try{I(t,e,n)}catch(t){}}function Wf(t,e,n){t&&t.context&&t.context.parent&&(t.pcid=t.context.parent.id,t.context.parent.updateRemain(1,e),t.context.parent.items.push(t.context.data),n&&t.context.parent.children.push(t.context))}function Xf(t){if(!t)return!1;var e=_.eventResources&&_.eventResources.length>0,n=_.eventResourcesIgnore&&_.eventResourcesIgnore.length>0;return e&&n?Qf(t)&&$f(t):e?Qf(t):!n||$f(t)}function Qf(e){var n=!1;return b(_.eventResources,function(t){if(e.indexOf(t)>-1)return n=!0,!1}),n}function $f(e){var n=!0;return b(_.eventResourcesIgnore,function(t){if(e.indexOf(t)>-1)return n=!1,!1}),n}function Zf(t,e){var n,r=p.context;if(!(t.shouldAddToEvent||!function(t){return N.containContext(t,function(t){return t&&(t.type===Wt||t.type===x&&t.subType!==Ue)})}(r)&&r))return null;if(r)return r;if(c()){var i=Lc(t.start||E());if(i&&!(n=i.closed))return i}return!n&&e&&(r=e()),!r&&p.recordingPageLoadEvent&&p.pageLoadEvent&&(r=p.pageLoadEvent,p.recordingCpActions&&(t.crossPage=!0)),r}var td=[];var ed,nd=!1,rd=["id","tname","tid","rid","duration","user","bid","ber","isError"];function id(t){var e,n,r;if(t)if(0===t.indexOf(Ft)){var i=t.substring(Ft.length);try{e=k(n=hf.decode(i))}catch(t){}}else{try{e=k(n=decodeURIComponent(t))}catch(t){}if(!e)try{e=k(n=decodeURIComponent(n))}catch(t){r=t&&t.message,function(t,e){var n="ok";if(!t)return e.length?e.join("\n"):n;e.push(t)}(r,td)}}return e}function ad(){try{if(nd)return;var t=function(){var t={},e=function(t,e,n){if(!n)try{n=e&&window[e]||m.cookie||""}catch(t){}if(n){var r=n.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?r[3]:null}return null}(qt,Mt);e&&(t=id(e),function(t,e,n,r,i){var a=t+"="+e;if(n){var o=new Date;o.setTime(o.getTime()+1e3*n),a+=";expires="+o.toGMTString()}r&&(a+=";path="+r),(i||m).cookie=a}(qt,"",-1e3,"/"));return t}(),e={};t&&f(t)&&(e.s_id=t.id,e.s_tname=t.tname,e.s_tid=t.tid,e.s_rid=t.rid,e.s_duration=t.duration,"user"in t&&(e.s_user=t.user,Ha(t.user)),"bid"in t&&(e.s_bid=gs(t.bid)),"ber"in t&&(e.s_ber=t.ber),"isError"in t&&(e.s_isError=t.isError)),ed=e,nd=!0}catch(t){}}function od(){return ed}var cd=0,sd="load",ud="reload",fd=["__wvjb_queue_message__","__bridge_loaded__"];function dd(r,t,e){if(!function(t){if(!t)return!0;var e=!1,n=t.substring(0,100);try{b(fd,function(t){if(n.indexOf(t)>-1)return e=!0,!1})}catch(t){e=!0}return e}(t)&&r){e||(e=r.src?ud:sd);var n,i={id:cd++,src:t,loadType:e,start:E(),sameOrigin:(n=t,Jf(n).valid),shouldAddToEvent:Xf(t)};!function(t){t.context||(t.context=new N({parent:Zf(t),name:"".concat(t.src,"-").concat(t.id),type:Gt}))}(i),i.crossPage&&(i.context.crossPage=!0),i.context.setData({type:Gt,loadType:i.loadType,id:i.id,cid:i.context.id,src:i.src,start:i.start,sameOrigin:i.sameOrigin}),Wf(i,Gt),r.addEventListener("load",function t(){try{if(i.end=E(),i.sameOrigin&&this&&this.contentWindow&&this.contentWindow.document){i.url=this.contentWindow.document.URL;var e=this.contentWindow[Rt],n=!1;e&&(i.pvid=e.pvid||"",w(e.checkHookSupported)&&e.checkHookSupported(Dn,Hn)&&(n=!0,e.addActionHook(Hn,function(t){var e;t&&t.actionData&&(e=pd(t.actionData)),e||(e=hd(this.contentWindow,i.start)),ld(i,e)}))),n||ld(i,hd(this.contentWindow,i.start))}else ld(i)}catch(t){ld(i)}try{r.removeEventListener("load",t)}catch(t){}})}}function ld(t,e){t.callbackEnd||(t.callbackEnd=!0,t.iframePageMetric=e,function(t){t.context.setData(g({pvid:t.pvid,end:t.end,url:t.url},t.iframePageMetric))}(t),function(t){if(!t.context)return;t.context.setData({state:ie}),t.context.canEnd()&&t.context.end()}(t))}function hd(t,e){if(!t)return{};var n=Nu(t),r={metric:{le:n.le,f:n.f},debug:{}},i={wd:t,startTime:e,ifr:!0};return mu(r,i),Su(r,i),ru(r,i),Cu(r,i),pd(r.metric)}function pd(t){if(t){var n,r,e={f:t.f,fp:t.fp,fs:t.fs,dr:t.dr,le:t.le,loadEventEnd:t.loadEventEnd,je:t.je||0};return n=t,r=e,b(rd,function(t){var e="s_".concat(t);null!=n[e]&&(r[e]=n[e])}),e}}function vd(){if(_.hook_iframe&&c())try{!function(){function t(e){return function(t){try{"IFRAME"===t.nodeName&&t.src&&dd(t,t.src,sd)}catch(t){}return e.apply(this,arguments)}}window.Node&&(Gf(window.Node.prototype,"appendChild",t),Gf(window.Node.prototype,"insertBefore",t))}(),function(){if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var t=Object.getOwnPropertyDescriptor(HTMLIFrameElement.prototype,"src");if(t){var e=t.get,n=t.set;e&&n&&Object.defineProperty(HTMLIFrameElement.prototype,"src",{get:function t(){return e.apply(this,arguments)},set:function t(){try{m&&m.body&&m.body.contains&&m.body.contains(this)&&dd(this,arguments[0])}catch(t){}n.apply(this,arguments)},enumerable:!0,configurable:!0})}}}()}catch(t){}}var md,yd=!1;try{md=window.__zone_symbol__MutationObserver||window.MutationObserver,yd=w(md)}catch(t){}function gd(t,e,n){if(!(yd&&md&&t&&e))return ht;var r;try{(r=new md(function(t){b(t,function(t){try{t&&n(t)}catch(t){}})}))&&r.observe(t,e)}catch(t){}return function(){try{return r&&r.disconnect()}catch(t){}}}function bd(t,e){return l(t,e)>-1}var wd=["IMG","SCRIPT","IFRAME"];function Ed(t){if(bd(wd,t.nodeName)&&Xf(t.src)&&!yu(t)){var e=p.recentFinishedAjaxContext;if(e&&e.data){var n=E();if(n-e.data.end<=_.resourceAssociateThreshold){var r=N.getRootContext(e,function(t){return t.type===Wt||t.type===x&&!t.subType===Ue});r&&r.addResource(t,n)}}}b(t.children,Ed)}var Td=null;function xd(){b(m.getElementsByTagName("img"),function(t){t.complete||t[dn]||(t[dn]=!0,a(t,Tt,function(){bt.imageResources.push({loadTime:E(),element:t})}))})}function _d(){Fo.on(Tt,pt(function(){e();var t=E();Ts(function(){Es.load=t}),S.loadEventEnd=t,clearInterval(Td)})),b(Fi(),function(e){a(window,e,function(t){Ts(function(){(Es.e[e]||(Es.e[e]=[])).push(E())}),Fo.emit(e,t)})});var e=pt(function(){var t,e;_.monitor_dom_mutation&&(t=document.getElementsByTagName("body"),(e=t&&t[0])&&gd(e,{childList:!0,subtree:!0},function(t){b(t.addedNodes,Ed)}));var n=E();if(Ts(function(){Es.end=n}),S.domContentLoadedEventStart=n,c()&&window.performance&&window.performance.getEntriesByName){if(!m.querySelectorAll)return;bt.resources=bt.resources||[],b(m.querySelectorAll("head>link,head>script"),function(t){var e;"LINK"==t.tagName?e=t.href:"SCRIPT"!=t.tagName||t.defer||t.async||(e=t.src),e&&bt.resources.push(e)})}});if(c()&&a(m,At,e),a(m,kt,function(t){m.readyState===Ct&&e()}),(!c()||window.performance&&!window.performance.getEntriesByName)&&(Td=setInterval(xd,ln)),!c())try{!function(e){var n=m.createElement("script");n.type="text/javascript";try{n.appendChild(m.createTextNode(e))}catch(t){n.text=e}m.getElementsByTagName("head")[0].appendChild(n)}("if(window.TINGYUN) {window.TINGYUN.".concat(hn,"=+new Date();}"))}catch(t){}}function Sd(){try{Ss(),Rs(),_s(function(){lt(function(){Rs()})}),a(document,Tn,function(t){"hidden"===document.visibilityState&&Os(t),S.addCache(ca,function(){return{state:document.visibilityState,time:E()}})},!0),a(window,St,Os,!0),_d()}catch(t){}}function kd(t,e){for(var n=E(),r=e.length-1;r>=0;r--){var i=e[r];i.type===x||i.end||(i.end=n),e[r-1]&&(e[r-1].items=[i]);var a=void 0;a=i.start&&i.end&&i.end-i.start>_.eventTimeout?ae:i.type===x&&e[r+1]&&e[r+1].state||ie,i.state=a}t.data=e[0],t.end=n}function Cd(t){var e=p.cpParent;if(e){p.recordingCpActions=!1;var n=e.action,r=e.data,i=e.commonActionInfo,a=e.requestInfo;if(n&&r&&0!==r.length){r[r.length-1].items=[t.eventData.data],kd(n,r),n.data&&(n.data.range=En);var o={pageParam:za()};p.opt_custom_param&&(o.cpOptCustomParam=p.opt_custom_param);var c=g(i||{},Ci(o,Ai(),"cpScope"));t.eventData=n,t.setSendOptions({commonActionInfoMessage:c,requestInfo:a,crossPage:!0})}}}var Ad=0,Od=null;function Rd(t){if(t.parent){var e=Ad++,n=t.url||"",r=E(),i=new N({parent:t.parent,name:"".concat(n,"-").concat(e),type:Xt,subType:t.subType||je});i.setData({type:Xt,subType:i.subType,id:e,cid:i.id,url:n,start:r});var a=i.collectCrossPageData();Od=a,function(t){Ca(Ie,y(t))}(a),i.clear(),i=null}}function Nd(e){return function(){var t=e.apply(this,arguments);try{if(t)Rd({url:arguments[0],parent:function(t){if(t){var e=_c[_c.length-1];if(e){var n=Dc(e);return Pc(n,t)?Rc(e,Ve,{s:n}):void 0}}}(E())})}catch(t){}return t}}function Id(){b([qe,Be],function(r){m.addEventListener(r,function(t){if(t&&t.target)try{var e=r===qe?function(t){return{valid:Je===t.target.nodeName&&!t.defaultPrevented&&t.target.href,url:t.target.href,subType:De}}(t):function(t){return{valid:Ke===t.target.nodeName&&!t.defaultPrevented&&t.target.action,url:t.target.action,subType:Pe}}(t);if(e.valid){var n=t.timeStamp&&function(e){var t;try{t=G(_c,function(t){return t.timeStamp===e.timeStamp&&e.target.nodeName===t.target.nodeName})[0]}catch(t){}if(t)return Rc(t,Ve,{s:Dc(t)})}(t);Rd({subType:e.subType,url:e.url,parent:n})}}catch(t){}},h({},He,!0))})}function jd(){!function(t){if(t){var e=t.action,n=t.data;e&&n&&0!==n.length&&(kd(e,n),$o(e))}}(Od),Od=null}function Dd(){_.hook_cross_page&&(I(window,"open",Nd),Id(),Cs(function(){jd()}))}var Pd=[];function Ld(t){t&&(0===Pd.length&&a(document,qe,function(e){b(Pd,function(t){t(e)})},!0),Pd.push(t))}var Hd=50;function Md(){Ld(function(t){try{if(!t)return;var e=t.target||t.srcElement;if(!e)return;var n=function(t){var e=oc(),n=t.timeStamp;return n?sc(n)?n:Math.round(t.timeStamp+e):E()}(t),r=e.outerText||"";r&&(r=r.substring(0,Hd));var i={path:Oc(e)};qc({timestamp:n,message:r,category:Fr,data:i})}catch(t){console.log(t)}})}var qd="sw8",Bd="Page",Ud="1.0.0";function Fd(t,e,n){return t||(t=n),t.substring(0,e)}var zd="traceparent",Vd="tracestate";function Yd(t){var e,n;do{e="",n=0;for(var r=0;r<t;r++){var i=Math.floor(16*Math.random()).toString(16);e+=i,"0"===i&&n++}}while(n===t);return e}function Jd(t){return t||""}var Kd,Gd={uniqueId:0},Wd=[],Xd="add",Qd="remove",$d="opt_custom_param",Zd="opera_all_param",tl="content-type",el="sid",nl="vid",rl="aid",il="u",al="tingyun",ol=al+"=";function cl(t,e,n){t.apms||(t.apms={}),null!=e&&null!=n&&(t.apms[e]=n)}function sl(a,o){if(!_.x_server_switch)return!1;var c=!1;try{if(_.key&&Al(a,li)){var t=function(){try{return T(!0).substring(0,16)}catch(t){}}(),e=ul();t&&(e+=";x="+t);var n=xf();n&&(e+=";u="+n),a.addHeader(Bt,e),c=!0,a.xTingyunSent=!0}var s=a.pgHeaders;if(s||(s=function(t){var e;return h(e={},zd,t.getHeader(zd)),h(e,Vd,t.getHeader(Vd)),h(e,qd,t.getHeader(qd)),e}(a)),b(_.propagators,function(t,e){if(Al(a,e))if(e===hi){var n=s[zd],r=s[Vd];n?r?o||(r=Jd(r+","+Ol(a)),a.addHeader(Vd,r),c=!0):(r=Jd(Ol(a)),a.addHeader(Vd,r),c=!0):r||(n="00-"+Yd(32)+"-"+Yd(16)+"-01",r=Jd(Ol(a)),a.addHeader(zd,n),a.addHeader(Vd,r),c=!0),n&&cl(a,zd,n),r&&cl(a,Vd,r)}else if(e===pi){var i=s[qd];s[qd]||(i=function(t){var e,n=t.url;try{e=Ra(t.url)}catch(t){}return"1-"+pf(T())+"-"+pf(T())+"-0-"+pf(Fd(e&&e.hostname,50,n))+"-"+pf(Fd(Ma(),50,Ud))+"-"+pf(Fd(_a(),150,Bd))+"-"+pf(e&&e.host||n)}(a),a.addHeader(qd,i),c=!0),i&&cl(a,qd,i)}}),_.apmHeaders){var r=T(!0);b(_.apmHeaders,function(t){if(t){var e=a.getHeader(t);null==e&&_.autoAddApmHeader&&a.sameOrigin&&(a.addHeader(t,r),c=!0,e=r),null!=e&&cl(a,t,e)}})}}catch(t){}return c}function ul(){return _.key?"c=B|"+_.key:""}function fl(t,e){t.context||(t.context=new N({parent:Zf(t,function(){var t=es.get("event");if(t&&t.type==sn)return Xu(t.key)}),name:"".concat(t.url,"-").concat(t.id),type:v,subType:e||Xn}),t.crossPage&&t.context.setData({crossPage:!0}))}function dl(t,e){if(_.x_server_switch){var n=t.context.data;if(t.apms&&(n.apms=t.apms),t.sameOrigin){var r=t.xTingyunSent?k(e(Ut)):null;if(r){if(n.hasServerHeader=!0,n.s_id=r.id,n.s_tname=r.tname,n.s_tid=r.tid,n.s_rid=r.rid,n.s_duration=r.duration,"user"in r){var i=r.user,a=i;if(null!=i&&0===i.indexOf(Ft)){var o=i.substring(Ft.length);try{a=hf.decode(o)}catch(t){}}n.s_user=a,Ha(a)}"bid"in r&&(n.s_bid=gs(r.bid)),"ber"in r&&(n.s_ber=r.ber),"isError"in r&&(n.s_isError=r.isError)}else n.hasServerHeader=!1;if(_.serverTiming)try{var c=e(Tr);c&&(n.st=c)}catch(t){}}}}function ll(t){var e=t.context.data;t.key&&(e.__spe=1)}function hl(t,e){try{var n=e(tl);n&&(t.ct=n)}catch(t){}}function pl(t){p.context=t.context}function vl(t){if(t.context){var e=!1;return t.context.setData({state:ie}),t.context.canEnd()&&(t.context.end(),e=!0),e}}function ml(t){if(!t||!t.context)return{};var e=t.context.data,n={method:e.method,url:e.url,start:e.start,end:e.end,du:e.du,status:e.status};return t.context.subType===Xn?g(n,{err:e.err,rec:e.rec,send:e.send,requestHeader:t.headerRecord}):g(n,{requestHeader:t.fetchOptions.headers}),n}function yl(t){var e=es.get("event");if(e&&e.key){if(e.type===sn){var n=Xu(e.key),r=N.getRootContext(t.context,function(t){return t.type===x&&t.subType!==Ue});if(n&&r&&n.id!=r.id)return}t.key=e.key,e.remain++,e.type!==on&&t.context.aid||(t.aid=e.aid)}}function gl(e){var n=!0;return b(_.ajaxBlacklist,function(t){if(t&&e.indexOf(t)>-1)return n=!1,!1}),n}function bl(t,e){var n={url:t.url,status_code:t.status,method:t.method,duration:t.du};t.apms&&(n.apms=t.apms),qc({type:qr,category:e,message:t.url,timestamp:t.start,data:n})}function wl(e,n){Wd.length>0&&b(Wd,function(t){t(e,n)})}function El(t){wl(Xd,t)}function Tl(t){wl(Qd,t)}function xl(t){Wd.push(t)}function _l(t){var e=l(Wd,t);e>-1&&Wd.splice(e,1)}function Sl(t,e,n){if(t&&e&&n){var r=pa(e.toLowerCase());r&&(t[r]={key:e,value:n})}}function kl(t){return t.aid||t.context.aid||p.routeAid}function Cl(t,e){try{var n=kl(e);n&&(t.actionId=n)}catch(t){}}function Al(t,e){if(!_.propagators[e])return!1;var n=t.sameOrigin;return null==n&&(n=Kf(t.url),t.sameOrigin=n),n}function Ol(t){var e=ul(),n=(e?e+";":"")+el+"="+u.sid+";"+nl+"="+u.pvid,r=kl(t);r&&(n+=";"+rl+"="+r);var i=xf();return i&&(n+=";"+il+"="+i),al+"="+pf(n)}var Rl=["$.","$["],Nl="__TY_ROOT__",Il=["authorization","proxy-authorization","set-cookie"],jl=(h(Kd={},An,_n),h(Kd,On,Sn),h(Kd,Rn,kn),h(Kd,Nn,Cn),Kd);function Dl(e,t,r){var i=!0,a=!1,o={};return b(t,function(n){var t=n.url;if(e.indexOf(t)>-1)return a=!0,r||n[An]||n[On]||n[Rn]||n[Nn]?b(jl,function(e,t){b(n[t],function(t){t&&(o[e]||(o[e]=[]),o[e].push({key:t}))})}):i=!1,!1}),!a&&r&&(i=!1),{matched:a,enabled:i,white:r,posRule:o}}function Pl(t,e,n){l(Il,e)<0&&e&&n&&(t[n.key]=n.value)}function Ll(r,n,t,i){t?b(t,function(t){var e=t.key;Pl(r,e,n[e])}):b(n,function(t,e){var n=!1;b(i,function(t){if(t.key===e)return n=!0,!1}),n||Pl(r,e,t)})}function Hl(t,e){var n,r=!1,i=!1;return e?(n=e.posRule[t],(i=e.white)||e.matched||(r=!0)):r=!0,{all:r,white:i,rules:n}}function Ml(t,e){var n=e.all,r=e.white,i=e.rules,a={};return i?r?Ll(a,t,i,null):Ll(a,t,null,i):(n||r)&&Ll(a,t),a}function ql(t){try{return t.slice(0,_.ajBodyMaxSize)}catch(t){}}function Bl(t){var e=!1,n=t;n&&(function(e,t){var n;return b(t,function(t){if(e.charAt(0)===t&&e.charAt(e.length-1)===t)return n=t,!1}),n}(n=pa(n),["'",'"'])?(e=!0,n=n.substring(1,n.length-1)):e=isNaN(+n));return{key:n,obj:e}}function Ul(t,e){var n=e.jp,r=e.paths,i=e.key;return null!=n&&r||(n=e.jp=function(t){return t&&l(Rl,t.substring(0,2))>-1}(i),r=e.paths=n?function(t){t=t.substring(1);var n=[];return b(t.split(/\.|\[|\]/),function(t){var e=Bl(t);e.key&&n.push(e)}),n}(i):[{key:i,obj:!F(t)}]),e}function Fl(t,e,n){var r,i;i=n&&n.length>1?function(t,e){for(var n=-1,r=null==t?0:t.length,i=new Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(r=n.slice(0,-1),function(t){return t.key}).join("."):Nl,t[i]||(t[i]={ppath:r,indexes:[]}),t[i].indexes.push(+e)}function zl(t,e,n){var r=n.all,i=n.white,a=n.rules;if(a){var o,c=tt(t)&&e();return c?(o=i?function(c,t){var e,s=[];return b(t,function(t){var e=Ul(c,t),n=e.jp,i=e.paths,r=e.key,a=!1;if(n){var o=c;b(i,function(t,e){var n=t.key;if(e===i.length-1)a=n in o;else{var r=o[n];if(null==r)return!1;o=r}})}else a=r in c;a&&s.push(i)}),b(s,function(i){e||(e=F(c)?[]:{});var a=e,o=c;b(i,function(t,e){var n=t.key,r=t.obj;e===i.length-1?r?a[n]=o[n]:a.push(o[n]):(a[n]||(a[n]=i[e+1].obj?{}:[]),a=a[n],o=o[n])})}),e}(c,a):function(c,t){var i=F(c),s={},u=!1;b(t,function(t){var e=Ul(c,t),n=e.jp,a=e.paths,r=e.key;if(n){var o=c;b(a,function(t,e){var n=t.key,r=t.obj;if(e===a.length-1)n in o&&(r?delete o[n]:(Fl(s,n,a),u=!0));else{var i=o[n];if(null==i)return!1;o=i}})}else r in c&&(i?(Fl(s,r),u=!0):delete c[r])});try{u&&b(s,function(t,e){var i=t.ppath,n=t.indexes;n.sort(function(t,e){return e-t});var a,o=c;e===Nl?a=o:b(i,function(t,e){var n=t.key;if(e===i.length-1)a=o[n];else{var r=o[n];if(null==r)return a=null,!1;o=r}}),F(a)&&b(n,function(t){a.splice(t,1)})})}catch(t){}return c}(c,a),o&&(!dc(o)||o.length>0)?ql(y(o)):null):null}return r||i?ql(t):null}function Vl(t,e,n,r,i){var a,o,c=ba(t),s=!1,u=!1;return c.getQB=function(){if(e)return s||(a=n(e),s=!0),a},c.getRB=function(){if(r)return u||(o=i(r),u=!0),o},c}function Yl(t,e,n,r,i,a){var o=t.queryString,c=_.networkRecord,s=c.config,u=c.white,f=c.black;if(s.enabled){var d,l=s.pos,h={};return l[xn]&&o&&(h[xn]=ql(o)),s.urlOnly?h:(e=function(t){try{t=pa(String(t));var e=_a();if(!t)return e;if(yt(t,va)||yt(t,ma)||yt(t,ya))return t;var n="";yt(e,va)?n=va:yt(e,ma)?n=ma:yt(e,ya)&&(n=ya);var r=e.substring(n.length),i="";if(yt(t,"/")){var a=r.indexOf("/");a>-1&&(r=r.substring(0,a)),i=r+t}else r=Sa(r),yt(t,"./")?t=t.substring(2):yt(t,"../")&&(t=t.substring(3),r=Sa(r)),i=r+"/"+t;return n+i}catch(t){}}(e),uo(u)?d=Dl(e,u,!0):uo(f)&&(d=Dl(e,f,!1)),!d||d.enabled?(l[_n]&&hc(h,_n,Ml(n(),Hl(_n,d))),l[Sn]&&r&&pc(h,Sn,zl(r,t.getQB,Hl(Sn,d))),l[kn]&&hc(h,kn,Ml(i(),Hl(kn,d))),l[Cn]&&a&&pc(h,Cn,zl(a,t.getRB,Hl(Cn,d))),h):h)}}var Jl=t("URL"),Kl={literal:{addHeader:function t(e,n){e&&n&&(this.fetchOptions.headers[e]=n)},getHeader:function t(e){return this.fetchOptions.headers[e]}},headers:{addHeader:function t(e,n){e&&n&&this.fetchOptions.headers.set(e,n)},getHeader:function t(e){return this.fetchOptions.headers.get(e)}},notSupport:{addHeader:ht,getHeader:ht}};function Gl(t){if(this.headers)return this.headers.get(t)}function Wl(e,t){if(e&&e.context){e.context.setData({end:e.end,du:e.status>0?e.end-e.start:0,status:e.status,state:ie});var n=e.context.data;n.err=t?0:ii.error;var r=q(Gl,t||{});dl(e,r),ll(e);try{var i=Vl(e.url,e.reqBody,k,e.resBody,k);try{hc(n,$d,function(t,e,n){var r={};return pc(r,It,ms(t.queryObj)),hc(r,jt,function(n){var r={};return b(_.optCustomParamRules[jt],function(t){var e=n.getHeader(t);null!=e&&(r[t]=e)}),r}(e)),hc(r,Pt,function(n){if(!n)return;var r={};return b(_.optCustomParamRules[Pt],function(t){var e=n.headers.get(t);null!=e&&(r[t]=e)}),r}(n)),r}(i,e,t))}catch(t){}try{hc(n,Zd,Yl(i,e.url,function(){try{var n={},t=e.fetchOptions.headers;return f(t)?b(t,function(t,e){Sl(n,e,t)}):V(t)?t.forEach(function(t,e){Sl(n,e,t)}):F(t)&&b(t,function(t){Sl(n,t[0],t[1])}),n}catch(t){}},e.reqBody,function(){try{if(t&&t.headers){var n={};return t.headers.forEach(function(t,e){Sl(n,e,t)}),n}}catch(t){}},e.resBody))}catch(t){}}catch(t){}return hl(n,r),Cl(n,e),n}}function Xl(t){var e={};return d(t)?e.url=t:Jl(t)&&d(t.href)?e.url=t.href:g(e,function(t){if(!Y(t)&&!f(t))return null;var e={};return t.url&&(e.url=t.url),t.method&&(e.method=t.method),t.headers&&(e.headers=t.headers),t.body&&d(t.body)&&(e.reqBody=t.body),e}(t)),e}function Ql(n,r,i){return n.read().then(function(t){if(t.done)return i;var e=t.value;return i+=r.decode(e),Ql(n,r,i)})}function $l(n){return new Promise(function(e){try{var t=n.clone().body;if(t)Ql(t.getReader(),new TextDecoder,"").then(function(t){e(t)})["catch"](function(){e()});else e()}catch(t){e()}})}function Zl(c){return function(){var t,r,e=K.call(arguments,0);try{var n={};if(e&&(n=Xl(e[0]),e[1]&&g(n,Xl(e[1]))),t=gl(n.url)){if(function(t){var e=!0,n=!0;t.fetchOptions.headers||(e=!1,t.fetchOptions.headers={});var r=t.fetchOptions.headers;V(r)?g(t,Kl.headers):f(r)?g(t,Kl.literal):(n=!1,g(t,Kl.notSupport)),t.hasOriginalHeaders=e,t.supportAddHeaders=n}(r={id:Gd.uniqueId++,method:n.method||fr,url:n.url,start:E(),fetchOptions:n,shouldAddToEvent:Xf(n.url),scope:new s,initiatorType:_r}),fl(r,Qn),r.supportAddHeaders){var i=sl(r,!1);if(!r.hasOriginalHeaders&&i)try{e[1]||(e[1]={}),e[1].headers=r.fetchOptions.headers}catch(t){i=!1}r.headerAdded=i}yl(r),r.context.setData({type:v,subType:Qn,id:r.id,cid:r.context.id,method:r.method,url:r.url,start:r.start}),Wf(r,v),El(r),_.networkRecord.config.pos[Sn]&&n.reqBody&&(r.reqBody=n.reqBody)}}catch(t){}var a,o=c.apply(this,e);return t&&(a=o)&&"object"===B(a)&&w(a.then)?o.then(Xc(function(n){try{r.end=E(),new Promise(function(e){_.networkRecord.config.pos[Cn]?$l(n).then(function(t){t&&d(t)&&(r.resBody=t),e(n)})["catch"](function(){e(n)}):e(n)}).then(Xc(function(t){try{th(r,t)}catch(t){}}))}catch(t){}return n}),Xc(function(t){try{th(r,null)}catch(t){}throw t})):o}}function th(t,e){if(t){t.end||(t.end=E()),t.status=e?e.status:0;var n=Wl(t,e),r=ml(t);xi({type:Dn,name:Mn,args:{target:e||{},actionData:r},scope:t.scope}),r.st&&(n.st=r.st),Ci(n,t.scope);var i=es.get("event");i&&i.key==t.key&&(i.xhrs.push(n),0==--i.remain&&i._end()),S.addCache(ia,function(){return n}),Tl(t),lt(function(){vl(t),_.bcFetchEnabled&&bl(n,zr)})}}function eh(t,e,n){if(t&&t.context&&!t.composed){t.composed=!0;var r,i,a,o,c=k(e),s={};s[jt]=(r=n.headers||{},i={},b(_.optCustomParamRules[jt],function(t){var e=r[t];null!=e&&(i[t]=e)}),i),s[Dt]=(a=n.requestData,o={},a&&F(a)&&a.length>0&&b(a,function(t){var e=t;d(t)&&(e=k(t)),g(o,bs(e,_.optCustomParamRules[Dt],!0))}),o);var u=function(t){var n={};return b(t,function(t,e){dc(t)||(n[e]=t)}),dc(n)?void 0:n}(s),f={end:t.end,du:t.end-t.start,cb:t.cbTime,status:200,err:c&&null!=c.error?c.error:0,state:ie};u&&(f.opt_custom_param=u),Cl(f,t),t.context.setData(f);try{ll(t)}catch(t){}}}function nh(r){return function(){try{var t=arguments[1];if("rpc"===arguments[0]&&t&&t.operationType){var e=lr+t.operationType,n={id:Gd.uniqueId++,url:e,method:"",start:E(),shouldAddToEvent:Xf(e),scope:new s};fl(n,$n),yl(n),n.context.setData({type:v,subType:$n,id:n.id,cid:n.context.id,method:n.method,url:n.url,start:n.start}),Wf(n,v),arguments[2]=function(i,a,o){return Xc(function(t){var e;try{i.end=E(),e=E()}catch(t){}try{if(w(a))return a.apply(this,arguments)}finally{try{var n=E();i.cbTime=n-e,eh(i,t,o),xi({type:Dn,name:Mn,args:{target:this,actionData:i.context.data},scope:i.scope}),Ci(i.context.data,i.scope);var r=es.get("event");r&&r.key==i.key&&(r.xhrs.push(i.context.data),0==--r.remain&&r._end()),vl(i)}catch(t){}}})}(n,arguments[2],t)}}catch(t){}return r.apply(this,arguments)}}var rh=[],ih=!1;function ah(e){return ih||(a(document,"error",function(e){e&&e.target&&(e.target.src||e.target.href)&&b(rh,function(t){t(e)})},!0),ih=!0),e&&rh.push(e),function(){try{var t=l(rh,e);t>-1&&rh.splice(t,1)}catch(t){}}}var oh=["css","link","script","img","other"],ch={},sh={},uh=!1;function fh(t,e){if(t[e]){for(var n=t[e].shift();n&&n.sent;)n=t[e].shift();return n&&!n.sent&&n.value?n:undefined}}function dh(t,e,n){if(n){t[e]||(t[e]=[]);var r={sent:!1,value:n};return t[e].push(r),r}}function lh(e){if(!e)return!1;if(!(e=function(t){var e=t.indexOf("://");if(e<0)return t;return t=t.substring(e+3),t}(e)))return!1;var n=!1;return b(_.monitorResources,function(t){if(function(t,e){return!(!t||!e)&&(e.indexOf("*")<0&&e.indexOf("?")<0?t===e:function(t,e){for(var n=0,r=0,i=-1,a=0;n<t.length;)if(r<e.length&&(t[n]===e[r]||"?"===e[r]))n++,r++;else if(r<e.length&&"*"==e[r])i=r,a=n,r++;else{if(-1==i)return!1;r=i+1,n=++a}for(;r<e.length&&"*"==e[r];)r++;return r==e.length}(t,e))}(e,t))return n=!0,!1}),n}function hh(t){var e=t.url,n=t.error,r=t.res;if(e){var i,a,o,c,s,u,f,d;r&&!n?(f=r.startTime,d||(d=oc()),a=(i=Math.round((d||0)+(f||0)))+(o=Math.round(r.duration)),c=200,s=0,u=r.transferSize||0):(i=a=E(),o=0,c=0,s=ii.error,u=0);var l={type:v,subType:Zn,method:fr,url:e,start:i,end:a,du:o,status:c,err:s,rec:u};N.buildImmediateAction(v,Zn,l)}}function ph(){var t=Ms(Wr,function(t){var e=function(t){if(!t)return{valid:!1};var e=t.initiatorType,n=t.name,r=l(oh,e)>-1,i=lh(n);return{url:n,valid:r&&i}}(t),n=e.url;if(e.valid){var r=fh(sh,n);if(r)hh({url:n,res:t,error:r.value}),r.sent=!0;else{var i=dh(ch,n,t);vt(function(){i.sent||(hh({url:n,res:t,error:!1}),i.sent=!0)})}}});t.po&&(uh=!0)}function vh(){ah(function(t){var e=t.target.src||t.target.href;if(S.addCache(oa,function(){return{url:e,error:!0}}),uh)try{var n=function(t){return lh(t)}(e);if(!n)return;var r=fh(ch,e);if(r)hh({url:e,res:r.value,error:!0}),r.sent=!0;else{var i=dh(sh,e,!0);vt(function(){i.sent||(hh({url:e,error:!0}),i.sent=!0)})}}catch(t){}})}var mh="onload",yh="on"+kt,gh={},bh="open",wh="setRequestHeader",Eh="send",Th=!0;function xh(t){return gh[t[Ot]]}function _h(t){return!!t&&!t[Nt]}function Sh(a){return function(t,e){try{var n=this;if(!gl(e)&&n&&(n[Nt]=!0),_h(n)){var r={};r.method=t,r.url=e,r.id=Gd.uniqueId++,r.jserror=!1,r.headerRecord={},r.scope=new s,r.shouldAddToEvent=Xf(e),r.initiatorType=xr,r.pgHeaders={},g(r,(i=n,{addHeader:function t(e,n){try{e&&n&&i.setRequestHeader(e,n)}catch(t){}},getHeader:function t(e){return this.headerRecord[e]}})),fl(r),yl(r),r.context.setData({type:v,subType:Xn,id:r.id,cid:r.context.id,method:r.method,url:r.url,state:r.state,jserror:r.jserror}),Wf(r,v),r.toJSON=function(){return undefined},function(t,e){t[Ot]=e.id,gh[e.id]=e}(n,r)}}catch(t){}var i;return Th?a.apply(this,arguments):M(a,[this,arguments])}}function kh(s){return function(t,e){try{var n;if(_h(this)&&(n=xh(this))&&t&&e){var r=(o=t,b(_.optCustomParamRules[jt],function(t){if(o===t)return c=!0,!1}),c);if(_.x_server_switch){var i=gt(t.toLowerCase());if(i===Vd&&!function(t){return t&&t.indexOf(ol)>-1}(e)&&Al(n,hi)&&!n.pgHeaders[Vd]){var a=Jd(e+","+Ol(n));a&&(e=arguments[1]=a)}i!==Vd&&i!==zd&&i!==qd||(n.pgHeaders[i]=e)}n&&r&&(n.reqHeaderParam||(n.reqHeaderParam={}),n.reqHeaderParam[t]=e),n.headerRecord||(n.headerRecord={}),n.headerRecord[t]=e,_.networkRecord.config.pos[_n]&&(n._reqHeaders||(n._reqHeaders={}),Sl(n._reqHeaders,t,e))}}catch(t){}var o,c;return Th?s.apply(this,arguments):M(s,[this,arguments])}}function Ch(r){return function(t){try{var e,n=this;_h(n)&&(e=xh(n))&&(e.start=E(),e.reqSize=mt(t),t&&d(t)&&(e.requestData=t),e.context.setData({start:e.start}),function(r,i){var t=es.getContext();function e(n){return Xc(function(){var t,e;if(Rh(r,i),w(n))if(i&&4==r.readyState&&(e=E(),pl(i)),_.catchAsyncCallback)try{t=n.apply(this,arguments)}catch(t){throw i&&(i.jserror=!0),t}finally{i&&4==r.readyState&&(i.cbTime=E()-e)}else try{t=n.apply(this,arguments)}finally{i&&4==r.readyState&&(i.cbTime=E()-e)}return t},t)}Oh(r,e);try{c()?function(n,r){b(ii,function(t,e){a(n,e,Xc(function(){Ah(r,t,e),n&&n[We]===mh&&Rh(n,r)}))})}(r,i):function(r,i){b(ii,function(e,n){var t="on"+n;r[t]?I(r,t,function(t){return function(){if(Ah(i,e,n),w(t))return t.apply(this,arguments)}}):r[t]=function(){Ah(i,e,n)}})}(r,i)}catch(t){}if(!r[Ge]){var n=Xc(function(){r[Ge]||4===r.readyState&&Rh(r,i)},t);try{c()?a(r,kt,n):(r[yh]=n,r[yh][Ge]=!0)}catch(t){return}}lt(function(){Oh(r,e)})}(n,e),sl(e,!0),El(e))}catch(t){}return Th?r.apply(this,arguments):M(r,[this,arguments])}}function Ah(t,e,n){t&&(t.errorCode=e,t.errorEvent=n)}function Oh(t,e){c()&&t[mh]&&!t[Ge]&&(I(t,mh,e),t[Ge]=!0,t[We]=mh);var n=t[yh];!n||t[Ge]||n[Ge]||(I(t,yh,e),t[Ge]=!0,t[We]=yh)}function Rh(e,t){try{if(!t)return;if(t.end=E(),t.readyState=e.readyState,4==e.readyState){if(t.callbackEnd)return;t.callbackEnd=!0,c()&&delete e[Ge],pl(t),t.status=e.status;var n=function(t){var e="";try{if(""==t.responseType||"text"==t.responseType)e=t.responseText;else if(t.response)e=t.response;else try{e=t.responseText}catch(t){}}catch(t){}return e||""}(e);n&&d(n)&&(t.text=n),t.resSize=mt(n);var r=function(t,e){if(!t||!t.context||t.composed)return;var n=t.status;g(t.context.data,{end:t.end,du:n>0?t.end-t.start:0,cb:t.cbTime||0,status:n,err:t.errorCode?t.errorCode:0,rec:t.resSize,send:t.reqSize,state:ie});var r=t.context.data,i=q(Nh,e);dl(t,i),ll(t);try{var a=Vl(t.url,t.requestData,Ih,t.text,k);try{hc(r,$d,function(t,e,n){var r={};return pc(r,It,ms(t.queryObj)),hc(r,jt,e.reqHeaderParam),pc(r,Dt,bs(t.getQB,_.optCustomParamRules[Dt],!0)),pc(r,Pt,function(n,t){var r;return b(t,function(t){var e=function(t,e){if(t&&t.getResponseHeader)try{return t.getResponseHeader(e)}catch(t){}}(n,t);null!=e&&ha(r=r||{},t,e)}),r}(n,_.optCustomParamRules[Pt])),pc(r,Lt,bs(t.getRB,_.optCustomParamRules[Lt],!0)),r}(a,t,e))}catch(t){}try{hc(r,Zd,Yl(a,r.url,function(){return t._reqHeaders},t.requestData,function(){try{return function(t){if(!t)return{};var e=t.split(/\r?\n/),i={};return b(e,function(t){if(!t)return!0;var e=t.indexOf(":");if(e>-1){var n=gt(t.substring(0,e)),r=gt(t.substring(e+1));Sl(i,n,r)}}),i}(e.getAllResponseHeaders())}catch(t){}},t.text))}catch(t){}}catch(t){}return hl(r,i),Cl(r,t),t.composed=!0,r}(t,e),i=ml(t);xi({type:Dn,name:Mn,args:{target:e,actionData:i},scope:t.scope}),i.st&&(r.st=i.st),t.shouldAddToEvent&&(p.recentFinishedAjaxContext=t.context),S.addCache(ia,function(){var t=r;try{e.responseURL&&(t=g({},r,{url:e.responseURL}))}catch(t){}return t}),Tl(t);var a=es.get("event");lt(function(){try{!function(t,e){t&&e&&t.jserror&&(e.jserror=t.jserror);t.errorCode&&!e.err&&(e.err=t.errorCode);t.cbTime&&!e.cb&&(e.cb=t.cbTime);Ci(e,t.scope)}(t,r),a&&a.key==t.key&&(a.xhrs.push(r),0==--a.remain&&a._end()),vl(t),function(t){try{gh[t[Ot]]=null,delete gh[t[Ot]]}catch(t){}}(e),_.bcXhrEnabled&&bl(r,Vr)}catch(t){}})}}catch(t){}}function Nh(t){return this.getResponseHeader(t)}function Ih(t){var e,n,r=k(t);return r||(n={},r=d(e=(e=t)||"")&&e?n=wa(e):n),r}function jh(t){if(!t||!(t[bh]&&t[wh]&&t[Eh]))return!1;var e,n,r,i;try{n=fi in t[bh],r=fi in t[wh],i=fi in t[Eh],e=n===r&&r===i}catch(t){e=!1}return!!e&&!(!(Th=n)&&c())}function Dh(){_.hookAjax&&(function(){if(_.hookXhr){var t=Ni&&Ni.prototype;if(jh(t))I(t,bh,Sh),_.hook_xhr_setrequestheader&&I(t,wh,kh),I(t,Eh,Ch);else if(Ni)try{jh(new Ni)&&(window.XMLHttpRequest=function(){var t=new Ni;return I(t,bh,Sh),_.hook_xhr_setrequestheader&&I(t,wh,kh),I(t,Eh,Ch),t})}catch(t){}}}(),_.hookFetch&&window.fetch&&window.Promise&&c()&&I(window,"fetch",Zl),_.hookMPaas&&window.AlipayJSBridge&&w(window.AlipayJSBridge.call)&&I(window.AlipayJSBridge,"call",nh),c()&&function(){if(vh(),_.monitorResources&&0!==_.monitorResources.length)try{ph()}catch(t){}}())}var Ph=["trace","debug","info","warn","error","log"],Lh=1024,Hh="[?]",Mh=10;function qh(t){var e,n=!0;try{e=fi in t}catch(t){n=!1}return e||Hi||(n=!1),{enabled:n,canApply:e}}function Bh(){var u=_.bcParseConsoleParam?function(t){return Yi(t)}:function(t){return String(t)};b(Ph,function(i){try{var a=window.console[i];if(!a)return;var o=0,c=!0,t=qh(a),e=t.enabled,s=t.canApply;if(!e)return;window.console[i]=function(){try{if(c&&o<Mh){o++;var n=[],t=[].slice.call(arguments);!function(n){b(n,function(t,e){if("ref=Ref<"===t)return n[e+1]="viewRef",!1})}(t),b(t,function(t){try{var e=u(t);e!==undefined&&o<=1&&n.push(e)}catch(t){n.push(Hh)}});var e=n.join(" ");if(e){var r=i;"log"===r&&(r="info"),e=e.substring(0,Lh),qc({category:Ur,level:r,message:e})}o--}else c=!1}catch(t){}return s?a.apply(this,arguments):M(a,[this,arguments])}}catch(t){}})}function Uh(){var a=window.onerror;window.onerror=function(t,e,n,r,i){if(ls(t,e,n,r,i),w(a))return a.apply(this,arguments)},window.onerror._ty=!0}function Fh(){var t=window.onerror;t&&t._ty||Uh()}function zh(t){var e,n,r,i,a;(t instanceof window.Event||window.ErrorEvent&&t instanceof window.ErrorEvent)&&(e=t.message||t.error&&(t.error.message||t.error.constructor.name)||"",n=t.lineno||0,r=t.colno||0,i=t.filename||t.error&&t.error.filename||t.target&&t.target.baseURI||"",a=t.error),ls(e,i,n,r,a)}function Vh(t){if(t){var e;try{"reason"in t?e=t.reason:"detail"in t&&"reason"in t.detail&&(e=t.detail.reason)}catch(t){}if(e){var n=Object.prototype.toString.call(e);if(so(n,"ErrorEvent")&&e.error)zh(e);else{var r,i=function(e,t){var n,r=!1;return b(t,function(t){if(so(e,t))return n=t,r=!0,!1}),{typeName:n,ok:r}}(n,["Error","DOMException","DOMError"]),a=i.ok,o=i.typeName;if(a){if("stack"in e)return void hs(e,null,Kr);var c=e.name||o;r=e.message?"".concat(c,": ").concat(e.message):c}r||(r=Yi(e)),ls(r)}}}}function Yh(){_.jsErrorEnabled&&(Fo.on(Fi(),function(){ds()}),setInterval(ds,ns),function(){if(_.errorEnabled){var t=X();t?Uh():a(window,Et,zh),Fo.on(Tt,function(){t&&lt(Fh)})}}(),_.unhandledrejectionEnabled&&a(window,"unhandledrejection",Vh))}function Jh(t,e){if("undefined"!=typeof nbsJsBridge&&nbsJsBridge.logJsResult){var n={rm:{},em:[],cpm:{}};e&&(n.rm.res=e.res||[]),t&&(n.cpm=t,n.cpm.ul=u.ref),nbsJsBridge.logJsResult(y(n))}}var Kh=1,Gh={UNKNOWN:0,SUCCESS:1,FAIL:2},H="attributes",Wh="metrics";function Xh(t,e){var n={type:te};t&&(n.spans=t),e&&(n.events=e),$o({type:Zt,data:n})}function Qh(t,e){return g(t,{attributes:e})}function $h(t){return null==t||t<0}function Zh(t,e){if(e=e||{},t&&(function(t){return t[H]&&t[H].state===Kh}(e)||!$h(t.duration)))return e[H]&&(t[H]=e[H]),e[Wh]&&e[Wh].length>0&&(t[Wh]=e[Wh]),t}function tp(t,e,n){return Zh({type:Zr,name:t,duration:e},n)}function ep(t,e,n){var r=function(t,e){if(t&&!$h(e))return{name:t,value:e}}(e,n);r&&t.push(r)}function np(t,e){e&&t.push(e)}var rp,ip,ap=5e3,op=1e3,cp=2,sp=50,up=["IMG","SCRIPT","IFRAME","LINK","AUDIO","VIDEO","SOURCE"],fp=[],dp={},lp=[],hp=[],pp=0,vp=!1,mp=!1,yp=0,gp=0,bp=!1,wp=!1,Ep=!1,Tp=["beacon","preflight"],xp=60;function _p(){var n=lc(dp);if(n>cp)return cc();var e=[];b(fp,function(t){e.push([t.startTime,0]),e.push([t.endTime,1])}),b(dp,function(t){e.push([t.startTime,0])}),e.sort(function(t,e){return e[0]-t[0]});var r=0;return b(e,function(t){var e=t[0];if(0===t[1])n--;else if(++n>cp)return r=e,!1}),r}function Sp(t){var e,n=t.item,r=t.extra;"error"in r&&(e=r.error,delete r.error);var i=n.n;return delete n.n,h({startTime:n.o,duration:n.du,name:i,error:e},H,g({entry:n},r))}function kp(){var c=[],t=[];if(_.webVitalsTBTEnabled&&yp>0&&ep(t,Ir,yp),bp){ep(t,"fp",pp);var e=p.pageActionData;e&&(ep(t,"fs",e.fs),ep(t,"le",e.le));var n=Qs();if(n){var r=Sp(Ws(n)),i=r.startTime,a=r.duration;g(r[H],od()),np(c,Zh({type:ei,name:r.name,startTime:i,duration:a,endTime:i+a},h({},H,r[H])))}b(hp,function(t){var e,n=Sp(Xs(t,sa)),r=n.error;r===D.TRUE?e=Gh.FAIL:r===D.UNKNOWN&&(e=Gh.UNKNOWN);var i=n.startTime,a=n.duration,o={type:ti,name:n.name,startTime:i,duration:a,endTime:i+a};null!=e&&(o.status={code:e}),np(c,Zh(o,h({},H,n[H])))}),b(dp,function(t){np(c,function(t){return Zh({type:ti,name:t.name,startTime:t.startTime,status:{code:0}},h({},H,{entry:{rt:t.initiatorType},state:Kh}))}(t))}),c=c.concat(lp)}var o=tp(Nr,gp,h({},Wh,t));o&&(c.unshift(o),Xh(c)),mp=!0;try{fp.length=0,lp.length=0,hp.length=0,dp={}}catch(t){}}function Cp(){try{wp&&(wp=!1,kp())}catch(t){}}function Ap(){if(!c())return!1;var t="PerformanceLongTaskTiming"in window&&qs(Xr),e=yd,n=qs(Wr);return t&&e&&n}function Op(t){if(t){var e=[];return b(t,function(t){t&&e.push({containerType:t.containerType,containerSrc:t.containerSrc,containerId:t.containerId,containerName:t.containerName})}),e}}function Rp(){var t=Ms(Wr,function(t){t&&(t.name&&!bd(Tp,t.initiatorType)&&function(t){var e=t.name,n=t.startTime,r=n+t.duration;fp.push({entryType:Wr,name:e,startTime:n,endTime:r});var i=_p();i>0&&rp.setTriggerTime(i+ap)}(t),hp.push(t))});return t.stop}function Np(t){return t&&(t.src||t.href)&&bd(up,t.nodeName)}function Ip(t){var e=!1;return b(t,function(t){if(Np(t)||Ip(t.children))return e=!0,!1}),e}function jp(t){rp.setTriggerTime(cc()+ap)}function Dp(t){var e,n,r,i=function t(e){("childList"===e.type&&Ip(e.addedNodes)||"attributes"===e.type&&Np(e.target))&&jp()},a=t>0?(e=i,n=t,r=0,function(){var t=E();if(t-r>=n)try{return e.apply(this,arguments)}finally{r=t}}):i;return gd(document.documentElement,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["src","href"]},a)}function Pp(){function t(t,e){try{if(!(r=e).method||r.method.toUpperCase()!==fr)return;var n=e.id;t===Xd?function(t,e){dp[t]||(dp[t]=e)}(n,{initiatorType:e.initiatorType,startTime:uc(e.start),name:e.url}):function(t){delete dp[t]}(n)}catch(t){}var r}return xl(t),function(){_l(t)}}function Lp(){var t,e=Pp(),n=_.webVitalsTTIMutationCheckRate;return n>=0&&(t=Dp(n)),function(){e(),t&&t()}}function Hp(){if(Ap()&&_.webVitalsTTIEnabled){var e;vp=!0,function(t){try{m.readyState===Ct?t():Fo.on(Tt,t)}catch(t){}}(function(){lt(function(){Ep=!0,Cp()})}),Fo.on(Ui(),function(){Cp()});var t,n,r,i,a,o,c=Rp(),s=(t=Ms(Xr,function(t){if(t){var e=t.startTime,n=t.duration,r=e+n,i=n-sp;i>0&&pp&&e>=pp&&(yp+=i);var a=Zh({type:t.entryType,name:t.name,startTime:e,duration:n,endTime:r},h({},H,{attribution:Op(t.attribution)}));np(lp,a),ip=a,rp.setTriggerTime(r+ap)}},!1),t.stop);n=l,r=null,i=-1,a=!1,rp={setTriggerTime:function t(e){return!(e<=i||!n||(i=e,o(),0))},getTriggerTime:function t(){return i},schedule:o=function t(){if(!a||!n)return!1;var e=i-cc();return e>=0&&(clearTimeout(r),r=setTimeout(function(){try{n()}catch(t){}},e),!0)},start:function t(){if(!a&&n)return a=!0,o()},disable:function t(){clearTimeout(r),r=null,i=-1,a=!1,n=null}};var u=cu(),f=u.inited;pp=u.value,f&&(null==pp||pp<=0)?d():f?lt(function(){var t=Math.max(pp+ap,rp.getTriggerTime());if(cc()>=t)try{l()}catch(t){}else e=Lp(),rp.setTriggerTime(t),rp.start()||d()}):(e=Lp(),function(t){iu?t({value:iu}):au.push(t)}(function(t){var e=t.value;null!=(pp=e)&&pp>0?(rp.setTriggerTime(pp+ap),rp.start()||d()):d()}))}else try{js(Xr)}catch(t){}function d(){try{e&&e(),c(),s(),rp.disable(),p.pfSent&&S.clearCache([ia,oa])}catch(t){}}function l(){var t=cc(),e=function(t){return!(t-(ip?ip.endTime:pp)<ap||t-_p()<ap)}(t);e?(!function(){if(ip&&(gp=ip.endTime),gp<pp&&(gp=pp),!(gp<=0))if(bp=gp>=_.webVitalsTTIThreshold,Ep)try{kp()}catch(t){}else wp=!0}(),d()):xp>0?(xp--,rp.setTriggerTime(t+op)):d()}}var Mp,qp={},Bp={};function Up(t,e){var n=Ks().performance,r={tt:U(m.title),charset:m.characterSet};if(Ts(function(){dc(t.resource.handler)||(Es.resource=t.resource.statistic),r.debug=Es}),ws=!1,n&&e.slowPage){var i=[];try{i=Js(Wr,n)}catch(t){}var a=[],o=Qs();o&&a.push(Gs(Ws(o)));var c=[];b(i,function(t){var e=Gs(Xs(t,"pf"));c.push(e)});var s=[];b(Bp,function(t){s.push(function(t){return{o:P(uc(t.start)),rt:t.initiatorType,n:t.url,method:t.method}}(t))}),a.length>0&&(r.navigation=a),c.length>0&&(r.res=c),s.length>0&&(r.pending=s)}e.metricData&&(r.metric=e.metricData),e.marks&&(r.mark=e.marks);var u=S.getCache(ca);return u&&u.length>0&&(r.vsby=u),r}function Fp(){var n={},r=0,t=window.performance;b(Js("mark",t),function(t){if(t&&t.name&&t.startTime&&0===t.name.indexOf(Vt)){var e=t.name.substring(Vt.length);e&&(n[e]=Math.round(t.startTime),r+=1)}});var i=t&&t.timing?t.timing.navigationStart:W,e=g({},window[zt]&&window[zt].data||{},wt||{});return e&&t&&t.timing&&b(e,function(t,e){t&&f(t)&&t.timestamp&&(n[e]=t.timestamp-i,r+=1)}),r>0?n:null}function zp(t,e,n){var r=g({},t||{},{type:Wt,subType:n});return p.recordingCpActions&&(r.crossPage=!0),e&&(r.body=e),r}var Vp=pt(function(){if(qp.overview){var t=g({},qp.overview),e=Ru(t);t.st=e;var n=zp(t,null,ne);N.buildImmediateAction(Wt,ne,n)}}),Yp=pt(function(t){if(!p.pfSent){var e=g(Nu(window),od()),n={metric:{le:e.le},debug:{}};try{mu(n),ru(n),Su(n),Cu(n,{context:t})}catch(t){}Ts(function(){Es.calc=n.debug});var r=g(e,n.metric),i=Fp();i&&b(i,function(t,e){z(t)&&t>=0&&(r[e]=t)});var a="";b(["fp","fs","dr","le"],function(t){a+=(r.f>0?r[t]-r.f:r[t])>=_[t+"_threshold"]?"1":"0"}),r.trflag=a||"0000";var o,c=Up(t,{metricData:n.data,slowPage:(o=a,o&&o.indexOf("1")>-1),marks:i});t._ctx.pageClose&&(r.st=Ru(r)),qp.overview=r;var s=zp(r,c,ee);t.setSendOptions({query:{ps:1}}),g(t.eventData.data,s);try{Jh(r,c)}catch(t){}p.pfSent=!0,bt.pfStart=E(),S.clearCache([ca,aa]),vp&&!mp||S.clearCache([ia,oa]),Mp&&Mp(),Iu(!0),xi({type:Dn,name:Hn,args:{actionData:s},scope:Ai()}),p.pageActionData=s}});function Jp(t){p.recordingPageLoadEvent=!1,p.pageLoadEvent&&(t&&(p.pageLoadEvent._ctx.pageClose=!0),p.pageLoadEvent.endLock=!1,p.pageLoadEvent.end())}var Kp=pt(function(){p.pageLoadEvent&&(p.pageLoadEvent.closed?Vp():(Jp(!0),p.pageLoadEvent.closed||p.pageLoadEvent.timeout()))});function Gp(){ad(),Iu();try{_.baseHref=(m.getElementsByTagName("base")[0]||{}).href}catch(t){}var t=window.screen;t&&(u.sh=t.height,u.sw=t.width),u.pvid=T(),Uf("pvid",u.pvid);var e,n=Ks().startTime;_.bcNavigationEnabled&&qc({category:Jr,timestamp:n,message:u.ref}),Mp=function(){function t(t,e){Bp&&(t===Xd?Bp[e.id]=e:delete Bp[e.id])}return xl(t),function(){Bp=null,_l(t)}}(),e={ns:n},Ai().setParams(e)}function Wp(){if(p.recordingPageLoadEvent=!0,p.pageLoadEvent=new N({type:Wt,subType:ee,endLock:!0}),p.pageLoadEvent.addPostComposer(Yp),c()){var t=k(ka(Ie));t&&t.fromUrl&&m.referrer&&t.fromUrl.indexOf(m.referrer)>-1&&(p.recordingCpActions=!0,p.cpParent=t,p.pageLoadEvent.addPostComposer(Cd)),Aa(Ie)}return function(){if(c()){var t=0;try{t=window.performance.timing.loadEventEnd}catch(t){}return t>0}return m.readyState===Ct}()&&!p.pfSent&&vt(Jp,0),Fo.on(Tt,function(){var n=0;if(_.pfDelay&&f(_.pfDelay)){var r=Fp();b(_.pfDelay,function(t,e){(!r||null==r[e])&&z(t)&&t>n&&(n=t)})}p.pageLoadEvent&&!p.pageLoadEvent.hasChildType(v)&&_.pageLoadDelay>n&&(n=_.pageLoadDelay),vt(Jp,n)}).on(Ui(),Kp)}var Xp="rage_click",Qp=3,$p=300,Zp=0,tv=0;function ev(t){if(E()-tv>$p&&(Zp=0),Zp++,tv=E(),Zp===Qp)try{vs({name:Xp,context:{path:Oc(t.target||t.srcElement)}})}catch(t){}}var nv=0,rv=[],iv=0,av=[],ov=0;function cv(t){if(t)return{top:t.top,left:t.left,width:t.width,height:t.height}}function sv(){try{if(!_.webVitalsCLSEnabled)return;var e=function t(e){try{if(e.hadRecentInput)return;var n=av[0],r=av[av.length-1];iv&&e.startTime-r.startTime<1e3&&e.startTime-n.startTime<5e3?(iv+=e.value,av.push(e)):(iv=e.value,av=[e]),iv>nv&&(nv=iv,rv=av)}catch(t){}},t=Ms("layout-shift",e).po;t&&(Cs(function(){try{b(t.takeRecords(),function(t){e(t)}),function(){if(!(nv<=ov)){var n=[];b(rv,function(t){var o=[];b(t.sources,function(t){var e={currentRect:cv(t.currentRect),previousRect:cv(t.previousRect)},n=t.node;if(n){var r,i=n.nodeType,a=n;1!==i&&(a=n.parentNode),a&&1===a.nodeType||(a=null),(r=Oc(a))&&(e.node={path:r,type:i})}o.push(e)});var e={value:t.value};o.length>0&&(e.sources=o),n.push(Qh({entryType:t.entryType,startTime:t.startTime},e))});var t=tp(Rr,nv,h({},H,{entries:n}));t&&Xh([t]),ov=nv}}()}catch(t){}}),_s(function(){nv=0,rv=[],iv=0,av=[],ov=0}))}catch(t){}}function uv(){if(c()){try{uu(),(Ds=Ms(Vn,Us).po)&&(b(["keydown","click"],function(t){a(document,t,Fs,{once:!0,capture:!0})}),Cs(Fs,!0))}catch(t){}if(_.webVitalsEnabled)try{!function(){try{if(!_.webVitalsFIDEnabled)return;var e=pt(function(t){try{if(t.startTime<Ns()){var e=t.processingStart-t.startTime,n=Qh({entryType:t.entryType,name:t.name,duration:t.duration,startTime:t.startTime},{processingStart:t.processingStart,processingEnd:t.processingEnd}),r=tp(Or,e,h({},H,{entry:n}));r&&Xh([r])}}catch(t){}}),t=Js($r)[0];if(t)e(t);else{var n=Ms($r,e).po;n&&Cs(function(){try{b(n.takeRecords(),function(t){e(t)}),n.disconnect()}catch(t){}},!0)}}catch(t){}}(),sv(),Hp()}catch(t){}}}var fv="tyAppData";function dv(t,e){t&&(null!=t.deviceId&&Pa(t.deviceId),null!=t.userId&&Ha(t.userId,{noDispatch:!0}),ki(t.context),p.nbsJsBridgeData=t,e&&ac())}function lv(){zi()?Na=function t(e){window.webkit.messageHandlers.nbsBrowserAgent.postMessage(e)}:Vi()&&(Na=function t(e){nbsJsBridge.postMessage(e)}),function(){try{if("undefined"==typeof nbsJsBridge)return;var t=nbsJsBridge.context;t&&dv(t,!1),a(window,fv,function(t){try{dv(k(t&&t.detail),!0)}catch(t){}}),Ia(Er)}catch(t){}}()}function hv(){var t;Si(),lv(),function(){if(!p.did){var t=ka(Ze);t||(t=T(),Ca(Ze,t)),p.did=t}if(!p.uid){var e=ka(Qe);e&&(e=e.substring(0,ja),p.uid=e)}}(),ac(),_.bcEnabled&&(Tc=new Mc({maxSize:_.bcMaxCacheSize})),Gp(),Ji=new na,Sd(),Wp(),Dh(),Yh(),_.routerEnable&&(_.routerMode===kr&&window.history?Mf():_.routerMode===Cr?qf():window.history?Mf():qf()),function(){if(_.bcEnabled&&_.bcDomEnabled&&Md(),c())try{Hc(),Dd()}catch(t){}}(),vd(),_.monitorRage&&Ld(ev),uv(),_.bcConsoleEnabled&&window.console&&Bh(),S._end=E(),Ts(function(){Es._end=S._end}),t=_.sendInterval,_.sendInterval<Lr&&(t=Lr),setInterval(function(){tc({tr:Ko})},t),Fo.on(Ui(),function(){tc({tr:Go})})}function pv(t){var e={};if(w(t)){var n={};t(n),e=n}else e={server:t};var r=e.server;window[zt]||(window[zt]={hook:{}});var i=Oo(r),a=i.config,o=i.configKey,c=i.storedConfig;if(i.valid){var s=!co();s&&(b(a.plugins,function(t){Nf(t)}),hv(),window[Rt].inited=!0,co()&&b(Of,function(t){If(di,t)})),co()&&(xi({type:jn,name:Ln,args:{firstInit:s,config:r}}),ao(o,c))}}var vv=!0;function mv(t){vv=t}function yv(t){try{if(!vv||!t||!w(t)&&!f(t))return;pv(t)}catch(t){}}return function(){if(window[Rt]&&3===window[Rt].mainVersion)return window[Rt];try{mv(function(){try{var t=/MSIE (\d+).\d+/.exec(Pi());if(t&&t[1]){var e=parseInt(t[1]);Li=e<=7,Hi=e<=9}}catch(t){try{Li=/(MSIE [0-7].\d+)/.test(Pi()),Hi=/(MSIE [0-9].\d+)/.test(Pi())}catch(t){return!1}}return!0}())}catch(t){mv(!1)}Uf("init",yv),window[Rt]=Bf;try{Vf()}catch(t){}return Bf}()}();
//# sourceMappingURL=../../../../__sources__/common/js/libs/tingyun/tingyun-origin_8705208a.js.map
