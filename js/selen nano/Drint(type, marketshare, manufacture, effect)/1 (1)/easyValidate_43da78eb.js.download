(function(o){var i={required:"\\S+",number:"^\\d*\\.?\\d+$",enOnly:"^[\\x00-\\x7F]*$",decimal:"",url:"",email:"^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$",chinese:"",mobile:"",ip:"",tel:""};var e=function e(t,r,a){if(!t){return}this._={};this.commonRules=i;this.Ignore="submit,reset,hidden";this.setting=r||{};this.form=t;this._.names=[];if(a){this.commonRules=this._extend(i,a)}this.initialize();this._submitHandle()};e.prototype.initialize=function(){var e=this.form.elements,t,r,a,i;if(!e.length){return}if(!this.setting.global){throw new Error("global setting not exist!")}if(!this.setting.fields){throw new Error("Not has any form validate!")}for(t=0,r=e.length;t<r;t++){i=this.getAttribute(e[t],"type");if(e[t].name&&i&&!this._arrayContains(this._.names,e[t].name)){this._.names.push(e[t].name)}}for(t=0,r=this._.names.length;t<r;t++){a=this._.names[t];i=this.getAttribute(e[a],"type");if(i&&i.indexOf(this.Ignore)===-1&&this.setting.fields[a]){this.addRule(e[a],this.setting.fields[a])}}};e.prototype.addRule=function(t,r){var e=r.trigger||this.setting.global.trigger||"blur";var a=this.getAttribute(t,"type");var i=this;if(a!=="radio"&&a!=="checkbox"){o(t).on(e,function(e){i._formValidate.call(i,t,r)})}};e.prototype.getAttribute=function(e,t){if(!e){return null}if(e.length){return e[0][t]}else{if(e.nodeType===1){return e[t]}}return null};e.prototype.getValue=function(e){if(e.length){var t=[];for(var r=0,a=e.length;r<a;r++){if(e[r].checked){t.push(e.value||"")}}return t}else{if(e.nodeType===1){switch(e.type){case"textarea":default:return e.value}}}return null};e.prototype.removeRule=function(e){var t=e.name;var r=this.setting.fields[t];var a=r.trigger||this.setting.global.trigger||"blur";o(e).off(a)};e.prototype.removeAllRule=function(){var e=this.form.elements,t,r,a,i;for(t=0,r=this._.names.length;t<r;t++){a=this._.names[t];this.removeRule(e[a])}};e.prototype._formValidate=function(e,t,r){var a=this._patternValidate(e,t)&&this._rangeValidate(e,t)&&this._compareValidate(e,t)&&this._ajaxValidate(e,t,r);if(a&&this.setting.global.passBack){this.setting.global.passBack(e)}return a};e.prototype._rangeValidate=function(e,t){if(!t.range){return true}if(t.range&&(this.getValue(e).length<t.range.min||this.getValue(e).length>t.range.max)){this._showMessage(t.range.message,e);return false}return true};e.prototype._patternValidate=function(e,t){if(!t.pattern){return true}var r,a;for(var i=0,n=t.pattern.length;i<n;i++){r=new RegExp(this.commonRules[t.pattern[i].regExp]||t.pattern[i].regExp,"g");var s=this.getValue(e);a=r.test(s);if(t.pattern[i].reverse){a=!a}if(!a){this._showMessage(t.pattern[i].message,e);return a}}return true};e.prototype._compareValidate=function(e,t){if(!t.compare){return true}if(t.compare.dataType==="string"){return this.getValue(e)===this.getValue(t.compare.target)}if(t.compare.dataType==="number"){if(t.compare.operator==="gt"){return parseInt(this.getValue(e))>parseInt(this.getValue(t.compare.target))}if(t.compare.operator==="lt"){return parseInt(this.getValue(e))<parseInt(this.getValue(t.compare.target))}if(t.compare.operator==="eq"){return parseInt(this.getValue(e))===parseInt(this.getValue(t.compare.target))}}};e.prototype._ajaxValidate=function(r,a,e){if(!a.ajax){return true}var t=a.ajax.data||{};var i=false;var n=this;var s=true;t[r.name]=encodeURIComponent(this.getValue(r));if(typeof e!=="undefined"){s=e}o.ajax({type:"get",url:a.ajax.url+"?_="+(new Date).getTime(),async:s,data:t,dataType:"text",timeout:0,beforeSend:function e(){n._showMessage(a.ajax.waitMessage,r);if(a.ajax.beforeSend){return a.ajax.beforeSend.apply(null,Array.prototype.slice.call(arguments))}return true},complete:function e(t){if(t.status===200){a.ajax.complete&&a.ajax.complete.apply(null,Array.prototype.slice.call(arguments))}},success:function e(){i=a.ajax.success&&a.ajax.success.apply(null,Array.prototype.slice.call(arguments));if(i){n.setting.global&&n.setting.global.passBack(r)}else{n._showMessage(a.ajax.failMessage,r)}},error:function e(t){n._showMessage("We are sorry, but Server busy, please retry...",r);if(n.setting.global.debug){console.log("Ajax Error:"+t.status+t.statusText)}a.ajax.error&&a.ajax.error.apply(null,Array.prototype.slice.call(arguments))}});if(s){return s}else{return i}};e.prototype._showMessage=function(e,t){if(this.setting.global.errorBack){this.setting.global.errorBack(e,t)}};e.prototype._extend=function(e,t){for(var r in t){e[r]=t[r]}};e.prototype._arrayContains=function(e,t){for(var r=0,a=e.length;r<a;r++){if(e[r]===t){return true}}return false};e.prototype._submitHandle=function(){var l=this;o(this.form).on("submit",function(e){var t,r,a;var i=true;var n=l.form.elements;for(var s=0,o=l._.names.length;s<o;s++){t=l._.names[s];r=l.getAttribute(n[t],"type");a=l.setting.fields[t];if(r&&r.indexOf(l.Ignore)===-1&&l.setting.fields[t]){if(i){if(a.ajax){i=l._formValidate(n[t],a,false)}else{i=l._formValidate(n[t],a)}}else{if(l.setting.global.stoppedByFirstError&&!i){break}else{l._formValidate(n[t],a)}}}}if(!i){e.preventDefault();if(l.setting.global.invalidSubmit){l.setting.global.invalidSubmit.call(l,l.form)}return false}else{if(l.setting.global.validateBack){l.setting.global.validateBack(e)}}})};window.easyValidate=e}).call(this,this.jQuery);
//# sourceMappingURL=../../../../__sources__/common/js/assets/easyValidate/easyValidate_43da78eb.js.map
